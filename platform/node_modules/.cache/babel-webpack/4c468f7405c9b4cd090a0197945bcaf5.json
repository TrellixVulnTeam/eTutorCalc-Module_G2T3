{"ast":null,"code":"import _asyncToGenerator from \"/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { ExerciseSheetUpdateComponent } from '../exercise-sheet-update/exercise-sheet-update.component';\nimport { TranslatePipe } from '@ngx-translate/core';\nimport { ITEMS_PER_SLICE } from 'app/config/pagination.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"app/core/util/event-manager.service\";\nimport * as i3 from \"../exercise-sheets.service\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"../../../shared/alert/alert.component\";\nimport * as i6 from \"../../../shared/alert/alert-error.component\";\nimport * as i7 from \"@fortawesome/angular-fontawesome\";\nimport * as i8 from \"../../../shared/language/translate.directive\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@rxweb/reactive-form-validators\";\nimport * as i11 from \"ngx-infinite-scroll\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"angular-confirmation-popover\";\n\nconst _c0 = function (a0) {\n  return {\n    count: a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    name: a0\n  };\n};\n\nfunction ExerciseSheetsOverviewComponent_li_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"a\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n    \");\n    i0.ɵɵelementStart(5, \"span\", 11);\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementStart(7, \"span\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementStart(11, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function ExerciseSheetsOverviewComponent_li_29_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const entry_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.editExerciseSheet(entry_r1);\n    });\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelement(13, \"fa-icon\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n      \");\n    i0.ɵɵelementStart(15, \"a\", 15);\n    i0.ɵɵlistener(\"confirm\", function ExerciseSheetsOverviewComponent_li_29_Template_a_confirm_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const entry_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.deleteExerciseSheet(entry_r1);\n    });\n    i0.ɵɵpipe(16, \"translate\");\n    i0.ɵɵtext(17, \"\\n        \");\n    i0.ɵɵelement(18, \"fa-icon\", 16);\n    i0.ɵɵtext(19, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n  \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const entry_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(entry_r1.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\n        \", i0.ɵɵpipeBind2(9, 9, \"exerciseSheets.referencedFrom\", i0.ɵɵpureFunction1(18, _c0, entry_r1.individualAssignmentCnt)), \"\\n      \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(12, 12, \"exerciseSheets.tooltip.editExerciseSheet\", i0.ɵɵpureFunction1(20, _c1, entry_r1.name)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(16, 15, \"exerciseSheets.tooltip.deleteExerciseSheet\", i0.ɵɵpureFunction1(22, _c1, entry_r1.name)));\n    i0.ɵɵproperty(\"popoverTitle\", ctx_r0.popoverTitle)(\"popoverMessage\", ctx_r0.popoverMessage)(\"isDisabled\", entry_r1.individualAssignmentCnt > 0)(\"cancelText\", ctx_r0.popoverCancelButtonTxt)(\"confirmText\", ctx_r0.popoverConfirmBtnTxt);\n  }\n}\n/**\n * Component for displaying the exercise sheets.\n */\n\n\nexport class ExerciseSheetsOverviewComponent {\n  /**\n   * Constructor.\n   *\n   * @param modalService the injected modal service\n   * @param eventManager the injected event manager service\n   * @param exerciseSheetsService the injected exercise sheets service\n   * @param translationPipe the injected translation pipe\n   */\n  constructor(modalService, eventManager, exerciseSheetsService, translationPipe) {\n    this.modalService = modalService;\n    this.eventManager = eventManager;\n    this.exerciseSheetsService = exerciseSheetsService;\n    this.translationPipe = translationPipe;\n    this.hasNextPage = false;\n    this.page = 0;\n    this.entries = [];\n    this.filterString = '';\n    this.popoverTitle = 'exerciseSheets.popover.title';\n    this.popoverMessage = 'exerciseSheets.popover.message';\n    this.popoverCancelButtonTxt = 'exerciseSheets.popover.cancelBtn';\n    this.popoverConfirmBtnTxt = 'exerciseSheets.popover.confirmBtn';\n    this.itemsPerPage = ITEMS_PER_SLICE;\n    this.popoverTitle = this.translationPipe.transform(this.popoverTitle);\n    this.popoverMessage = this.translationPipe.transform(this.popoverMessage);\n    this.popoverCancelButtonTxt = this.translationPipe.transform(this.popoverCancelButtonTxt);\n    this.popoverConfirmBtnTxt = this.translationPipe.transform(this.popoverConfirmBtnTxt);\n  }\n  /**\n   * Implements the init method. See {@link OnInit}.\n   */\n\n\n  ngOnInit() {\n    this.exerciseSubscription = this.eventManager.subscribe('exercise-sheets-changed', () => {\n      this.entries.length = 0;\n      this.loadPage(0);\n    });\n    this.loadPage(0);\n  }\n  /**\n   * Opens the create new exercise sheet modal window.\n   */\n\n\n  createNewExerciseSheet() {\n    this.modalService.open(ExerciseSheetUpdateComponent, {\n      size: 'lg',\n      backdrop: 'static'\n    });\n  }\n  /**\n   * Opens the edit dialog for the given exercise sheet.\n   *\n   * @param exerciseSheet the exercise sheet to edit\n   */\n\n\n  editExerciseSheet(exerciseSheet) {\n    this.editExerciseSheetAsync(exerciseSheet);\n  }\n  /**\n   * Deletes the given exercise sheet.\n   *\n   * @param exerciseSheet the exercise sheet to remove\n   */\n\n\n  deleteExerciseSheet(exerciseSheet) {\n    this.exerciseSheetsService.deleteExerciseSheetById(exerciseSheet.internalId).subscribe(() => {\n      this.eventManager.broadcast('exercise-sheets-changed');\n    });\n  }\n  /**\n   * Performs the filter operation.\n   */\n\n\n  performFiltering() {\n    const wordSearch = this.filterString;\n    setTimeout(() => {\n      if (wordSearch === this.filterString) {\n        this.entries.length = 0;\n        this.loadPage(0);\n      }\n    }, 500);\n  }\n  /**\n   * Track identity function for a exercise sheet display dto.\n   * @param index the current index\n   * @param item the current selected\n   */\n\n\n  trackId(index, item) {\n    return item.internalId;\n  }\n  /**\n   * Loads the data from the given page.\n   *\n   * @param page the page\n   */\n\n\n  loadPage(page) {\n    this.page = page;\n    this.loadAsync();\n  }\n  /**\n   * Performs the pagination.\n   *\n   * @param data the entries from the rest endpoint\n   * @param headers the header of the http endpoint request\n   */\n\n\n  paginate(data, headers) {\n    this.hasNextPage = headers.get('X-Has-Next-Page') === 'true';\n\n    if (data) {\n      this.entries.push(...data);\n    }\n  }\n  /**\n   * Asynchronously loads the entries.\n   */\n\n\n  loadAsync() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const pagination = {\n        page: _this.page,\n        size: _this.itemsPerPage,\n        sort: []\n      };\n      const response = yield _this.exerciseSheetsService.getExerciseSheetPage(pagination, _this.filterString).toPromise();\n\n      _this.paginate(response.body, response.headers);\n    })();\n  }\n  /**\n   * Asynchronously opens the edit dialog.\n   *\n   * @param exerciseSheetDisplay the exercise sheet to edit\n   */\n\n\n  editExerciseSheetAsync(exerciseSheetDisplay) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const exerciseSheetResponse = yield _this2.exerciseSheetsService.getExerciseSheetById(exerciseSheetDisplay.internalId).toPromise();\n      const exerciseSheet = exerciseSheetResponse.body;\n\n      const modalRef = _this2.modalService.open(ExerciseSheetUpdateComponent, {\n        size: 'lg',\n        backdrop: 'static'\n      });\n\n      modalRef.componentInstance.exerciseSheet = exerciseSheet;\n    })();\n  }\n\n}\n\nExerciseSheetsOverviewComponent.ɵfac = function ExerciseSheetsOverviewComponent_Factory(t) {\n  return new (t || ExerciseSheetsOverviewComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.EventManager), i0.ɵɵdirectiveInject(i3.ExerciseSheetsService), i0.ɵɵdirectiveInject(i4.TranslatePipe));\n};\n\nExerciseSheetsOverviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ExerciseSheetsOverviewComponent,\n  selectors: [[\"jhi-exercise-sheets-overview\"]],\n  features: [i0.ɵɵProvidersFeature([TranslatePipe])],\n  decls: 32,\n  vars: 9,\n  consts: [[\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"float-right\", 3, \"click\"], [\"icon\", \"plus\"], [\"jhiTranslate\", \"exerciseSheets.createText\", 1, \"d-none\", \"d-md-inline\"], [\"jhiTranslate\", \"exerciseSheets.header\"], [1, \"row\"], [1, \"col-12\", \"d-flex\"], [1, \"ml-auto\", \"search-box\"], [\"type\", \"text\", 1, \"form-control\", 2, \"max-width\", \"200px\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\", \"keyup\"], [\"infinite-scroll\", \"\", 1, \"list-group\", 3, \"hidden\", \"infiniteScrollDisabled\", \"infiniteScrollDistance\", \"scrolled\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"list-group-item\"], [1, \"float-right\"], [2, \"margin-right\", \"20px\"], [2, \"margin-right\", \"10px\", 3, \"ngbTooltip\", \"click\"], [\"icon\", \"pencil-alt\"], [\"mwlConfirmationPopover\", \"\", \"placement\", \"left\", 3, \"ngbTooltip\", \"popoverTitle\", \"popoverMessage\", \"isDisabled\", \"cancelText\", \"confirmText\", \"confirm\"], [\"icon\", \"trash\"]],\n  template: function ExerciseSheetsOverviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"jhi-alert\");\n      i0.ɵɵtext(1, \"\\n\");\n      i0.ɵɵelement(2, \"jhi-alert-error\");\n      i0.ɵɵtext(3, \"\\n\\n\");\n      i0.ɵɵelementStart(4, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function ExerciseSheetsOverviewComponent_Template_button_click_4_listener() {\n        return ctx.createNewExerciseSheet();\n      });\n      i0.ɵɵtext(5, \"\\n  \");\n      i0.ɵɵelement(6, \"fa-icon\", 1);\n      i0.ɵɵtext(7, \"\\n  \");\n      i0.ɵɵelementStart(8, \"span\", 2);\n      i0.ɵɵtext(9, \"Create new exercise sheet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n\");\n      i0.ɵɵelementStart(12, \"h2\", 3);\n      i0.ɵɵtext(13, \"Exercise sheet management\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\");\n      i0.ɵɵelementStart(15, \"div\", 4);\n      i0.ɵɵtext(16, \"\\n  \");\n      i0.ɵɵelementStart(17, \"div\", 5);\n      i0.ɵɵtext(18, \"\\n    \");\n      i0.ɵɵelementStart(19, \"div\", 6);\n      i0.ɵɵtext(20, \"\\n      \");\n      i0.ɵɵelementStart(21, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ExerciseSheetsOverviewComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.filterString = $event;\n      })(\"keyup\", function ExerciseSheetsOverviewComponent_Template_input_keyup_21_listener() {\n        return ctx.performFiltering();\n      });\n      i0.ɵɵpipe(22, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n\");\n      i0.ɵɵelementStart(27, \"ul\", 8);\n      i0.ɵɵlistener(\"scrolled\", function ExerciseSheetsOverviewComponent_Template_ul_scrolled_27_listener() {\n        return ctx.loadPage(ctx.page + 1);\n      });\n      i0.ɵɵtext(28, \"\\n  \");\n      i0.ɵɵtemplate(29, ExerciseSheetsOverviewComponent_li_29_Template, 22, 24, \"li\", 9);\n      i0.ɵɵtext(30, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \"\\n\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(22, 7, \"taskManagement.searchPlaceholder\"));\n      i0.ɵɵproperty(\"ngModel\", ctx.filterString);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"hidden\", !ctx.entries.length)(\"infiniteScrollDisabled\", !ctx.hasNextPage)(\"infiniteScrollDistance\", 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.entries)(\"ngForTrackBy\", ctx.trackId);\n    }\n  },\n  directives: [i5.AlertComponent, i6.AlertErrorComponent, i7.FaIconComponent, i8.TranslateDirective, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgModel, i10.ɵk, i10.ɵe, i11.InfiniteScrollDirective, i12.NgForOf, i1.NgbTooltip, i13.ConfirmationPopoverDirective],\n  pipes: [i4.TranslatePipe],\n  styles: [\".search-box[_ngcontent-%COMP%] {\\n  margin-bottom: 10px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4ZXJjaXNlLXNoZWV0cy1vdmVydmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0FBQ0YiLCJmaWxlIjoiZXhlcmNpc2Utc2hlZXRzLW92ZXJ2aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlYXJjaC1ib3gge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG4iXX0= */\"]\n});","map":{"version":3,"sources":["/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/src/main/webapp/app/overview/exercise-sheets/exercise-sheets-overview/exercise-sheets-overview.component.ts"],"names":["ExerciseSheetUpdateComponent","TranslatePipe","ITEMS_PER_SLICE","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","_c0","a0","count","_c1","name","ExerciseSheetsOverviewComponent_li_29_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵpipe","ɵɵlistener","ExerciseSheetsOverviewComponent_li_29_Template_a_click_11_listener","restoredCtx","ɵɵrestoreView","entry_r1","$implicit","ctx_r3","ɵɵnextContext","editExerciseSheet","ɵɵelement","ExerciseSheetsOverviewComponent_li_29_Template_a_confirm_15_listener","ctx_r5","deleteExerciseSheet","ctx_r0","ɵɵadvance","ɵɵtextInterpolate","ɵɵtextInterpolate1","ɵɵpipeBind2","ɵɵpureFunction1","individualAssignmentCnt","ɵɵpropertyInterpolate","ɵɵproperty","popoverTitle","popoverMessage","popoverCancelButtonTxt","popoverConfirmBtnTxt","ExerciseSheetsOverviewComponent","constructor","modalService","eventManager","exerciseSheetsService","translationPipe","hasNextPage","page","entries","filterString","itemsPerPage","transform","ngOnInit","exerciseSubscription","subscribe","length","loadPage","createNewExerciseSheet","open","size","backdrop","exerciseSheet","editExerciseSheetAsync","deleteExerciseSheetById","internalId","broadcast","performFiltering","wordSearch","setTimeout","trackId","index","item","loadAsync","paginate","data","headers","get","push","pagination","sort","response","getExerciseSheetPage","toPromise","body","exerciseSheetDisplay","exerciseSheetResponse","getExerciseSheetById","modalRef","componentInstance","ɵfac","ExerciseSheetsOverviewComponent_Factory","t","ɵɵdirectiveInject","NgbModal","EventManager","ExerciseSheetsService","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ExerciseSheetsOverviewComponent_Template","ExerciseSheetsOverviewComponent_Template_button_click_4_listener","ExerciseSheetsOverviewComponent_Template_input_ngModelChange_21_listener","$event","ExerciseSheetsOverviewComponent_Template_input_keyup_21_listener","ExerciseSheetsOverviewComponent_Template_ul_scrolled_27_listener","ɵɵtemplate","ɵɵpipeBind1","directives","AlertComponent","AlertErrorComponent","FaIconComponent","TranslateDirective","DefaultValueAccessor","NgControlStatus","NgModel","ɵk","ɵe","InfiniteScrollDirective","NgForOf","NgbTooltip","ConfirmationPopoverDirective","pipes","styles"],"mappings":"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","sourcesContent":["import { ExerciseSheetUpdateComponent } from '../exercise-sheet-update/exercise-sheet-update.component';\nimport { TranslatePipe } from '@ngx-translate/core';\nimport { ITEMS_PER_SLICE } from 'app/config/pagination.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"app/core/util/event-manager.service\";\nimport * as i3 from \"../exercise-sheets.service\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"../../../shared/alert/alert.component\";\nimport * as i6 from \"../../../shared/alert/alert-error.component\";\nimport * as i7 from \"@fortawesome/angular-fontawesome\";\nimport * as i8 from \"../../../shared/language/translate.directive\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@rxweb/reactive-form-validators\";\nimport * as i11 from \"ngx-infinite-scroll\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"angular-confirmation-popover\";\nconst _c0 = function (a0) { return { count: a0 }; };\nconst _c1 = function (a0) { return { name: a0 }; };\nfunction ExerciseSheetsOverviewComponent_li_29_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"a\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n    \");\n    i0.ɵɵelementStart(5, \"span\", 11);\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementStart(7, \"span\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementStart(11, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function ExerciseSheetsOverviewComponent_li_29_Template_a_click_11_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const entry_r1 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.editExerciseSheet(entry_r1); });\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵelement(13, \"fa-icon\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n      \");\n    i0.ɵɵelementStart(15, \"a\", 15);\n    i0.ɵɵlistener(\"confirm\", function ExerciseSheetsOverviewComponent_li_29_Template_a_confirm_15_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const entry_r1 = restoredCtx.$implicit; const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.deleteExerciseSheet(entry_r1); });\n    i0.ɵɵpipe(16, \"translate\");\n    i0.ɵɵtext(17, \"\\n        \");\n    i0.ɵɵelement(18, \"fa-icon\", 16);\n    i0.ɵɵtext(19, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n  \");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const entry_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(entry_r1.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\n        \", i0.ɵɵpipeBind2(9, 9, \"exerciseSheets.referencedFrom\", i0.ɵɵpureFunction1(18, _c0, entry_r1.individualAssignmentCnt)), \"\\n      \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(12, 12, \"exerciseSheets.tooltip.editExerciseSheet\", i0.ɵɵpureFunction1(20, _c1, entry_r1.name)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(16, 15, \"exerciseSheets.tooltip.deleteExerciseSheet\", i0.ɵɵpureFunction1(22, _c1, entry_r1.name)));\n    i0.ɵɵproperty(\"popoverTitle\", ctx_r0.popoverTitle)(\"popoverMessage\", ctx_r0.popoverMessage)(\"isDisabled\", entry_r1.individualAssignmentCnt > 0)(\"cancelText\", ctx_r0.popoverCancelButtonTxt)(\"confirmText\", ctx_r0.popoverConfirmBtnTxt);\n} }\n/**\n * Component for displaying the exercise sheets.\n */\nexport class ExerciseSheetsOverviewComponent {\n    /**\n     * Constructor.\n     *\n     * @param modalService the injected modal service\n     * @param eventManager the injected event manager service\n     * @param exerciseSheetsService the injected exercise sheets service\n     * @param translationPipe the injected translation pipe\n     */\n    constructor(modalService, eventManager, exerciseSheetsService, translationPipe) {\n        this.modalService = modalService;\n        this.eventManager = eventManager;\n        this.exerciseSheetsService = exerciseSheetsService;\n        this.translationPipe = translationPipe;\n        this.hasNextPage = false;\n        this.page = 0;\n        this.entries = [];\n        this.filterString = '';\n        this.popoverTitle = 'exerciseSheets.popover.title';\n        this.popoverMessage = 'exerciseSheets.popover.message';\n        this.popoverCancelButtonTxt = 'exerciseSheets.popover.cancelBtn';\n        this.popoverConfirmBtnTxt = 'exerciseSheets.popover.confirmBtn';\n        this.itemsPerPage = ITEMS_PER_SLICE;\n        this.popoverTitle = this.translationPipe.transform(this.popoverTitle);\n        this.popoverMessage = this.translationPipe.transform(this.popoverMessage);\n        this.popoverCancelButtonTxt = this.translationPipe.transform(this.popoverCancelButtonTxt);\n        this.popoverConfirmBtnTxt = this.translationPipe.transform(this.popoverConfirmBtnTxt);\n    }\n    /**\n     * Implements the init method. See {@link OnInit}.\n     */\n    ngOnInit() {\n        this.exerciseSubscription = this.eventManager.subscribe('exercise-sheets-changed', () => {\n            this.entries.length = 0;\n            this.loadPage(0);\n        });\n        this.loadPage(0);\n    }\n    /**\n     * Opens the create new exercise sheet modal window.\n     */\n    createNewExerciseSheet() {\n        this.modalService.open(ExerciseSheetUpdateComponent, { size: 'lg', backdrop: 'static' });\n    }\n    /**\n     * Opens the edit dialog for the given exercise sheet.\n     *\n     * @param exerciseSheet the exercise sheet to edit\n     */\n    editExerciseSheet(exerciseSheet) {\n        this.editExerciseSheetAsync(exerciseSheet);\n    }\n    /**\n     * Deletes the given exercise sheet.\n     *\n     * @param exerciseSheet the exercise sheet to remove\n     */\n    deleteExerciseSheet(exerciseSheet) {\n        this.exerciseSheetsService.deleteExerciseSheetById(exerciseSheet.internalId).subscribe(() => {\n            this.eventManager.broadcast('exercise-sheets-changed');\n        });\n    }\n    /**\n     * Performs the filter operation.\n     */\n    performFiltering() {\n        const wordSearch = this.filterString;\n        setTimeout(() => {\n            if (wordSearch === this.filterString) {\n                this.entries.length = 0;\n                this.loadPage(0);\n            }\n        }, 500);\n    }\n    /**\n     * Track identity function for a exercise sheet display dto.\n     * @param index the current index\n     * @param item the current selected\n     */\n    trackId(index, item) {\n        return item.internalId;\n    }\n    /**\n     * Loads the data from the given page.\n     *\n     * @param page the page\n     */\n    loadPage(page) {\n        this.page = page;\n        this.loadAsync();\n    }\n    /**\n     * Performs the pagination.\n     *\n     * @param data the entries from the rest endpoint\n     * @param headers the header of the http endpoint request\n     */\n    paginate(data, headers) {\n        this.hasNextPage = headers.get('X-Has-Next-Page') === 'true';\n        if (data) {\n            this.entries.push(...data);\n        }\n    }\n    /**\n     * Asynchronously loads the entries.\n     */\n    async loadAsync() {\n        const pagination = {\n            page: this.page,\n            size: this.itemsPerPage,\n            sort: [],\n        };\n        const response = await this.exerciseSheetsService.getExerciseSheetPage(pagination, this.filterString).toPromise();\n        this.paginate(response.body, response.headers);\n    }\n    /**\n     * Asynchronously opens the edit dialog.\n     *\n     * @param exerciseSheetDisplay the exercise sheet to edit\n     */\n    async editExerciseSheetAsync(exerciseSheetDisplay) {\n        const exerciseSheetResponse = await this.exerciseSheetsService.getExerciseSheetById(exerciseSheetDisplay.internalId).toPromise();\n        const exerciseSheet = exerciseSheetResponse.body;\n        const modalRef = this.modalService.open(ExerciseSheetUpdateComponent, { size: 'lg', backdrop: 'static' });\n        modalRef.componentInstance.exerciseSheet = exerciseSheet;\n    }\n}\nExerciseSheetsOverviewComponent.ɵfac = function ExerciseSheetsOverviewComponent_Factory(t) { return new (t || ExerciseSheetsOverviewComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.EventManager), i0.ɵɵdirectiveInject(i3.ExerciseSheetsService), i0.ɵɵdirectiveInject(i4.TranslatePipe)); };\nExerciseSheetsOverviewComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ExerciseSheetsOverviewComponent, selectors: [[\"jhi-exercise-sheets-overview\"]], features: [i0.ɵɵProvidersFeature([TranslatePipe])], decls: 32, vars: 9, consts: [[\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"float-right\", 3, \"click\"], [\"icon\", \"plus\"], [\"jhiTranslate\", \"exerciseSheets.createText\", 1, \"d-none\", \"d-md-inline\"], [\"jhiTranslate\", \"exerciseSheets.header\"], [1, \"row\"], [1, \"col-12\", \"d-flex\"], [1, \"ml-auto\", \"search-box\"], [\"type\", \"text\", 1, \"form-control\", 2, \"max-width\", \"200px\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\", \"keyup\"], [\"infinite-scroll\", \"\", 1, \"list-group\", 3, \"hidden\", \"infiniteScrollDisabled\", \"infiniteScrollDistance\", \"scrolled\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"list-group-item\"], [1, \"float-right\"], [2, \"margin-right\", \"20px\"], [2, \"margin-right\", \"10px\", 3, \"ngbTooltip\", \"click\"], [\"icon\", \"pencil-alt\"], [\"mwlConfirmationPopover\", \"\", \"placement\", \"left\", 3, \"ngbTooltip\", \"popoverTitle\", \"popoverMessage\", \"isDisabled\", \"cancelText\", \"confirmText\", \"confirm\"], [\"icon\", \"trash\"]], template: function ExerciseSheetsOverviewComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelement(0, \"jhi-alert\");\n        i0.ɵɵtext(1, \"\\n\");\n        i0.ɵɵelement(2, \"jhi-alert-error\");\n        i0.ɵɵtext(3, \"\\n\\n\");\n        i0.ɵɵelementStart(4, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ExerciseSheetsOverviewComponent_Template_button_click_4_listener() { return ctx.createNewExerciseSheet(); });\n        i0.ɵɵtext(5, \"\\n  \");\n        i0.ɵɵelement(6, \"fa-icon\", 1);\n        i0.ɵɵtext(7, \"\\n  \");\n        i0.ɵɵelementStart(8, \"span\", 2);\n        i0.ɵɵtext(9, \"Create new exercise sheet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11, \"\\n\");\n        i0.ɵɵelementStart(12, \"h2\", 3);\n        i0.ɵɵtext(13, \"Exercise sheet management\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(14, \"\\n\");\n        i0.ɵɵelementStart(15, \"div\", 4);\n        i0.ɵɵtext(16, \"\\n  \");\n        i0.ɵɵelementStart(17, \"div\", 5);\n        i0.ɵɵtext(18, \"\\n    \");\n        i0.ɵɵelementStart(19, \"div\", 6);\n        i0.ɵɵtext(20, \"\\n      \");\n        i0.ɵɵelementStart(21, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ExerciseSheetsOverviewComponent_Template_input_ngModelChange_21_listener($event) { return ctx.filterString = $event; })(\"keyup\", function ExerciseSheetsOverviewComponent_Template_input_keyup_21_listener() { return ctx.performFiltering(); });\n        i0.ɵɵpipe(22, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(23, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(24, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(25, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(26, \"\\n\");\n        i0.ɵɵelementStart(27, \"ul\", 8);\n        i0.ɵɵlistener(\"scrolled\", function ExerciseSheetsOverviewComponent_Template_ul_scrolled_27_listener() { return ctx.loadPage(ctx.page + 1); });\n        i0.ɵɵtext(28, \"\\n  \");\n        i0.ɵɵtemplate(29, ExerciseSheetsOverviewComponent_li_29_Template, 22, 24, \"li\", 9);\n        i0.ɵɵtext(30, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(31, \"\\n\");\n    } if (rf & 2) {\n        i0.ɵɵadvance(21);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(22, 7, \"taskManagement.searchPlaceholder\"));\n        i0.ɵɵproperty(\"ngModel\", ctx.filterString);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"hidden\", !ctx.entries.length)(\"infiniteScrollDisabled\", !ctx.hasNextPage)(\"infiniteScrollDistance\", 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.entries)(\"ngForTrackBy\", ctx.trackId);\n    } }, directives: [i5.AlertComponent, i6.AlertErrorComponent, i7.FaIconComponent, i8.TranslateDirective, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgModel, i10.ɵk, i10.ɵe, i11.InfiniteScrollDirective, i12.NgForOf, i1.NgbTooltip, i13.ConfirmationPopoverDirective], pipes: [i4.TranslatePipe], styles: [\".search-box[_ngcontent-%COMP%] {\\n  margin-bottom: 10px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4ZXJjaXNlLXNoZWV0cy1vdmVydmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0FBQ0YiLCJmaWxlIjoiZXhlcmNpc2Utc2hlZXRzLW92ZXJ2aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlYXJjaC1ib3gge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG4iXX0= */\"] });\n"]},"metadata":{},"sourceType":"module"}