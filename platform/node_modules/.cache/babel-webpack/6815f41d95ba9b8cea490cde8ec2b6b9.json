{"ast":null,"code":"import _asyncToGenerator from \"/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { forkJoin } from 'rxjs';\nimport { LecturerTaskAssignmentOverviewComponent } from './lecturer-task-assignment-overview/lecturer-task-assignment-overview.component';\nimport { COUNT_HEADER, ITEMS_PER_PAGE } from 'app/config/pagination.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../exercise-sheets/exercise-sheets.service\";\nimport * as i4 from \"../../course-management/course-management.service\";\nimport * as i5 from \"./lecturer-task-assignment-overview/lecturer-task-assignment.service\";\nimport * as i6 from \"@rxweb/reactive-form-validators\";\nimport * as i7 from \"../../../shared/language/translate.directive\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@fortawesome/angular-fontawesome\";\nimport * as i10 from \"../../../shared/pagination/item-count.component\";\n\nfunction CourseExerciseSheetAllocationComponent_div_16_tr_21_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \"X\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CourseExerciseSheetAllocationComponent_div_16_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, CourseExerciseSheetAllocationComponent_div_16_tr_21_span_6_Template, 2, 0, \"span\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementStart(8, \"td\", 22);\n    i0.ɵɵtext(9, \"\\n              \");\n    i0.ɵɵelementStart(10, \"div\", 23);\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementStart(12, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.markAsSelected(item_r5);\n    });\n    i0.ɵɵtext(13, \"Zuordnen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.openLecturerAssignmentOverview(item_r5);\n    });\n    i0.ɵɵtext(16, \"\\n                  Open the course instructor's view\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                \");\n    i0.ɵɵelementStart(18, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.exportPointsForExerciseSheet(item_r5);\n    });\n    i0.ɵɵtext(19, \"\\n                  Export points\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n    i0.ɵɵelementStart(21, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.openOrCloseExerciseSheet(item_r5);\n    });\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r5.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                  \", ctx_r4.isClosed(item_r5) ? \"Open exercise sheet\" : \"Close exercise sheet\", \"\\n                \");\n  }\n}\n\nfunction CourseExerciseSheetAllocationComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"table\", 17);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementStart(4, \"thead\");\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"tr\");\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementStart(8, \"th\", 18);\n    i0.ɵɵtext(9, \"Designation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementStart(11, \"th\", 19);\n    i0.ɵɵtext(12, \"Selected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n            \");\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n        \");\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtext(20, \"\\n          \");\n    i0.ɵɵtemplate(21, CourseExerciseSheetAllocationComponent_div_16_tr_21_Template, 26, 7, \"tr\", 20);\n    i0.ɵɵtext(22, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.exerciseSheets)(\"ngForTrackBy\", ctx_r0.trackIdentity);\n  }\n}\n\nconst _c0 = function (a0, a1, a2) {\n  return {\n    page: a0,\n    totalItems: a1,\n    itemsPerPage: a2\n  };\n};\n\nfunction CourseExerciseSheetAllocationComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelement(4, \"jhi-item-count\", 29);\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n\\n      \");\n    i0.ɵɵelementStart(7, \"div\", 28);\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵelementStart(9, \"ngb-pagination\", 30);\n    i0.ɵɵlistener(\"pageChange\", function CourseExerciseSheetAllocationComponent_div_18_Template_ngb_pagination_pageChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.page = $event;\n    })(\"pageChange\", function CourseExerciseSheetAllocationComponent_div_18_Template_ngb_pagination_pageChange_9_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.transition();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"params\", i0.ɵɵpureFunction3(6, _c0, ctx_r1.page, ctx_r1.totalItems, ctx_r1.itemsPerPage));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"collectionSize\", ctx_r1.totalItems)(\"page\", ctx_r1.page)(\"pageSize\", ctx_r1.itemsPerPage)(\"rotate\", true)(\"boundaryLinks\", true);\n  }\n}\n\nfunction CourseExerciseSheetAllocationComponent_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 31);\n  }\n}\n\nfunction CourseExerciseSheetAllocationComponent_fa_icon_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"fa-icon\", 32);\n  }\n}\n/**\n * Modal window for displaying exercise sheet assignments.\n */\n\n\nexport class CourseExerciseSheetAllocationComponent {\n  /**\n   * Constructor.\n   *\n   * @param activeModal the injected active modal service\n   * @param fb the injected form builder\n   * @param exerciseSheetService the injected exercise sheet service\n   * @param courseService the injected course service\n   * @param modalService the injected modal service\n   * @param lecturerAssignmentService the injected lecturer assignment service\n   */\n  constructor(activeModal, fb, exerciseSheetService, courseService, modalService, lecturerAssignmentService) {\n    this.activeModal = activeModal;\n    this.fb = fb;\n    this.exerciseSheetService = exerciseSheetService;\n    this.courseService = courseService;\n    this.modalService = modalService;\n    this.lecturerAssignmentService = lecturerAssignmentService;\n    this.allocationGroup = this.fb.group({});\n    this.isSaving = false;\n    this.page = 1;\n    this.totalItems = 0;\n    this.exerciseSheets = [];\n    this.selectedSheetsId = [];\n    this._selectedSheetIdsToSave = [];\n    this._closedExerciseSheets = [];\n    this._exerciseSheetPointOverview = [];\n    this.itemsPerPage = ITEMS_PER_PAGE;\n  }\n  /**\n   * Sets the course instance.\n   *\n   * @param value the value to set\n   */\n\n\n  set courseInstance(value) {\n    this._courseInstance = value;\n    forkJoin([this.loadExerciseSheetsPageAsync(), this.courseService.getExerciseSheetsOfCourseInstance(value.id)]).subscribe(([, second]) => {\n      this.selectedSheetsId = second.map(x => x.internalId);\n      this._closedExerciseSheets = second.filter(x => x.closed).map(x => x.internalId);\n    });\n  }\n  /**\n   * Returns the course instance.\n   */\n\n\n  get courseInstance() {\n    return this._courseInstance;\n  }\n  /**\n   * Closes the currently open modal window.\n   */\n\n\n  close() {\n    this.activeModal.dismiss();\n  }\n  /**\n   * Saves the form.\n   */\n\n\n  save() {\n    this.saveAsync();\n  }\n  /**\n   * Returns the identity id from the given item.\n   *\n   * @param index the index\n   * @param item the item\n   */\n\n\n  trackIdentity(index, item) {\n    return item.internalId;\n  }\n  /**\n   * Returns whether the given exercise sheet display dto is selected or not.\n   *\n   * @param item the exercise sheet display dto to check\n   */\n\n\n  isSelected(item) {\n    return this.selectedSheetsId.includes(item.internalId);\n  }\n  /**\n   * Returns whether the given exercise sheet is already closed or not.\n   *\n   * @param item the exercise sheet to check\n   */\n\n\n  isClosed(item) {\n    return this._closedExerciseSheets.includes(item.internalId);\n  }\n  /**\n   * Marks the given exercise sheet display dto as selected.\n   *\n   * @param item the item to mark\n   */\n\n\n  markAsSelected(item) {\n    this.selectedSheetsId.push(item.internalId);\n\n    this._selectedSheetIdsToSave.push(item.internalId);\n  }\n  /**\n   * Opens the lecturer assignment overview for the given exercise sheet from the\n   * currently selected course instance.\n   *\n   * @param item the selected exercise sheet\n   */\n\n\n  openLecturerAssignmentOverview(item) {\n    const modalRef = this.modalService.open(LecturerTaskAssignmentOverviewComponent, {\n      backdrop: 'static',\n      size: 'xl'\n    });\n    modalRef.componentInstance.assignedSheetInfo = {\n      courseInstanceId: this.courseInstance.id,\n      exerciseSheetId: item.internalId\n    };\n  }\n  /**\n   * Performs the page transition.\n   */\n\n\n  transition() {\n    this.loadExerciseSheetsPageAsync();\n  }\n  /**\n   * Requests the overview of the achieved points for a specific exercise-sheet.\n   *\n   * @param item the exercise sheet\n   */\n\n\n  exportPointsForExerciseSheet(item) {\n    var _a;\n\n    const exerciseSheetUUID = item.internalId.substr(item.internalId.lastIndexOf('#') + 1);\n    const courseInstanceUUID = (_a = this._courseInstance) === null || _a === void 0 ? void 0 : _a.id.substr(this._courseInstance.id.lastIndexOf('#') + 1);\n    this.lecturerAssignmentService.getExerciseSheetPointOverviewAsCSV(courseInstanceUUID, exerciseSheetUUID);\n  }\n  /**\n   * Opens or closes the requested exercise sheet.\n   *\n   * @param item the exercise sheet\n   */\n\n\n  openOrCloseExerciseSheet(item) {\n    if (this.isClosed(item)) {\n      this.openExerciseSheet(item);\n    } else {\n      this.closeExerciseSheet(item);\n    }\n  }\n  /**\n   * Closes the requested exercise sheet.\n   *\n   * @param item the exercise sheet\n   */\n\n\n  closeExerciseSheet(item) {\n    this.lecturerAssignmentService.closeExerciseSheet(this._courseInstance.id, item.internalId).subscribe(() => {\n      item.closed = true;\n\n      this._closedExerciseSheets.push(item.internalId);\n    });\n  }\n  /**\n   * Re-opens an already closed exercise sheet.\n   *\n   * @param item the exercise sheet\n   */\n\n\n  openExerciseSheet(item) {\n    this.lecturerAssignmentService.openExerciseSheet(this._courseInstance.id, item.internalId).subscribe(() => {\n      item.closed = false;\n\n      this._closedExerciseSheets.splice(this._closedExerciseSheets.indexOf(item.internalId));\n    });\n  }\n  /**\n   * Asynchronously saves the form.\n   */\n\n\n  saveAsync() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.courseService.addExerciseSheetAssignment(_this.courseInstance.id, _this._selectedSheetIdsToSave).toPromise();\n\n      _this.activeModal.close();\n    })();\n  }\n  /**\n   * Asynchronously loads the exercise sheets page.\n   */\n\n\n  loadExerciseSheetsPageAsync() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      const response = yield _this2.exerciseSheetService.getPagedExerciseSheetPage({\n        page: _this2.page - 1,\n        size: _this2.itemsPerPage,\n        sort: []\n      }, undefined).toPromise();\n      _this2.totalItems = Number(response.headers.get(COUNT_HEADER));\n      _this2.exerciseSheets = (_a = response.body) !== null && _a !== void 0 ? _a : [];\n    })();\n  }\n\n}\n\nCourseExerciseSheetAllocationComponent.ɵfac = function CourseExerciseSheetAllocationComponent_Factory(t) {\n  return new (t || CourseExerciseSheetAllocationComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ExerciseSheetsService), i0.ɵɵdirectiveInject(i4.CourseManagementService), i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i5.LecturerTaskAssignmentService));\n};\n\nCourseExerciseSheetAllocationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CourseExerciseSheetAllocationComponent,\n  selectors: [[\"jhi-course-exercise-sheet-allocation\"]],\n  decls: 43,\n  vars: 6,\n  consts: [[\"role\", \"form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"modal-header\"], [\"jhiTranslate\", \"courseManagement.instances.overview.assignExerciseSheetHeader\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [1, \"modal-body\"], [\"jhiTranslate\", \"courseManagement.instances.overview.exerciseSheetsHeader\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"icon\", \"ban\"], [\"jhiTranslate\", \"courseManagement.form.cancel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm mr-1\", 4, \"ngIf\"], [\"icon\", \"save\", 4, \"ngIf\"], [\"jhiTranslate\", \"courseManagement.form.save\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"jhiTranslate\", \"courseManagement.instances.overview.designation\"], [\"jhiTranslate\", \"courseManagement.instances.overview.selected\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"bold-span\", 4, \"ngIf\"], [1, \"text-right\"], [1, \"btn-group\"], [1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-info\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [1, \"bold-span\"], [1, \"row\", \"justify-content-center\"], [3, \"params\"], [3, \"collectionSize\", \"page\", \"pageSize\", \"rotate\", \"boundaryLinks\", \"pageChange\"], [1, \"spinner-border\", \"spinner-border-sm\", \"mr-1\"], [\"icon\", \"save\"]],\n  template: function CourseExerciseSheetAllocationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function CourseExerciseSheetAllocationComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"h4\", 2);\n      i0.ɵɵtext(5, \"\\n      Adjust exercise sheet allocation\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n\\n    \");\n      i0.ɵɵelementStart(7, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_Template_button_click_7_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵtext(8, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n\\n  \");\n      i0.ɵɵelementStart(11, \"div\", 4);\n      i0.ɵɵtext(12, \"\\n    \");\n      i0.ɵɵelementStart(13, \"h5\", 5);\n      i0.ɵɵtext(14, \"Exercise sheets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n\\n    \");\n      i0.ɵɵtemplate(16, CourseExerciseSheetAllocationComponent_div_16_Template, 25, 2, \"div\", 6);\n      i0.ɵɵtext(17, \"\\n\\n    \");\n      i0.ɵɵtemplate(18, CourseExerciseSheetAllocationComponent_div_18_Template, 12, 10, \"div\", 7);\n      i0.ɵɵtext(19, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n\\n  \");\n      i0.ɵɵelementStart(21, \"div\", 8);\n      i0.ɵɵtext(22, \"\\n    \");\n      i0.ɵɵelementStart(23, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_Template_button_click_23_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵtext(24, \"\\n      \");\n      i0.ɵɵelement(25, \"fa-icon\", 10);\n      i0.ɵɵtext(26, \"\\u00A0\");\n      i0.ɵɵelementStart(27, \"span\", 11);\n      i0.ɵɵtext(28, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30, \"\\n\\n    \");\n      i0.ɵɵelementStart(31, \"button\", 12);\n      i0.ɵɵtext(32, \"\\n      \");\n      i0.ɵɵtemplate(33, CourseExerciseSheetAllocationComponent_span_33_Template, 1, 0, \"span\", 13);\n      i0.ɵɵtext(34, \"\\n      \");\n      i0.ɵɵtemplate(35, CourseExerciseSheetAllocationComponent_fa_icon_35_Template, 1, 0, \"fa-icon\", 14);\n      i0.ɵɵtext(36, \"\\u00A0\");\n      i0.ɵɵelementStart(37, \"span\", 15);\n      i0.ɵɵtext(38, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.allocationGroup);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ctx.exerciseSheets);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.exerciseSheets);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"disabled\", ctx.allocationGroup.invalid || ctx.isSaving);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isSaving);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isSaving);\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i6.ɵa, i7.TranslateDirective, i8.NgIf, i9.FaIconComponent, i8.NgForOf, i10.ItemCountComponent, i1.NgbPagination],\n  styles: [\".bold-span[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS1leGVyY2lzZS1zaGVldC1hbGxvY2F0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRiIsImZpbGUiOiJjb3Vyc2UtZXhlcmNpc2Utc2hlZXQtYWxsb2NhdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib2xkLXNwYW4ge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/src/main/webapp/app/overview/course-management-shared/course-exercise-sheet-allocation/course-exercise-sheet-allocation.component.ts"],"names":["forkJoin","LecturerTaskAssignmentOverviewComponent","COUNT_HEADER","ITEMS_PER_PAGE","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","CourseExerciseSheetAllocationComponent_div_16_tr_21_span_6_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","CourseExerciseSheetAllocationComponent_div_16_tr_21_Template","_r8","ɵɵgetCurrentView","ɵɵtemplate","ɵɵlistener","CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_12_listener","restoredCtx","ɵɵrestoreView","item_r5","$implicit","ctx_r7","ɵɵnextContext","markAsSelected","CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_15_listener","ctx_r9","openLecturerAssignmentOverview","CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_18_listener","ctx_r10","exportPointsForExerciseSheet","CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_21_listener","ctx_r11","openOrCloseExerciseSheet","ctx_r4","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵproperty","isSelected","ɵɵtextInterpolate1","isClosed","CourseExerciseSheetAllocationComponent_div_16_Template","ctx_r0","exerciseSheets","trackIdentity","_c0","a0","a1","a2","page","totalItems","itemsPerPage","CourseExerciseSheetAllocationComponent_div_18_Template","_r13","ɵɵelement","CourseExerciseSheetAllocationComponent_div_18_Template_ngb_pagination_pageChange_9_listener","$event","ctx_r12","ctx_r14","transition","ctx_r1","ɵɵpureFunction3","CourseExerciseSheetAllocationComponent_span_33_Template","CourseExerciseSheetAllocationComponent_fa_icon_35_Template","CourseExerciseSheetAllocationComponent","constructor","activeModal","fb","exerciseSheetService","courseService","modalService","lecturerAssignmentService","allocationGroup","group","isSaving","selectedSheetsId","_selectedSheetIdsToSave","_closedExerciseSheets","_exerciseSheetPointOverview","courseInstance","value","_courseInstance","loadExerciseSheetsPageAsync","getExerciseSheetsOfCourseInstance","id","subscribe","second","map","x","internalId","filter","closed","close","dismiss","save","saveAsync","index","item","includes","push","modalRef","open","backdrop","size","componentInstance","assignedSheetInfo","courseInstanceId","exerciseSheetId","_a","exerciseSheetUUID","substr","lastIndexOf","courseInstanceUUID","getExerciseSheetPointOverviewAsCSV","openExerciseSheet","closeExerciseSheet","splice","indexOf","addExerciseSheetAssignment","toPromise","response","getPagedExerciseSheetPage","sort","undefined","Number","headers","get","body","ɵfac","CourseExerciseSheetAllocationComponent_Factory","t","ɵɵdirectiveInject","NgbActiveModal","FormBuilder","ExerciseSheetsService","CourseManagementService","NgbModal","LecturerTaskAssignmentService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","CourseExerciseSheetAllocationComponent_Template","CourseExerciseSheetAllocationComponent_Template_form_ngSubmit_0_listener","CourseExerciseSheetAllocationComponent_Template_button_click_7_listener","CourseExerciseSheetAllocationComponent_Template_button_click_23_listener","invalid","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","ɵa","TranslateDirective","NgIf","FaIconComponent","NgForOf","ItemCountComponent","NgbPagination","styles"],"mappings":";AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,uCAAT,QAAwD,iFAAxD;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,iCAA7C;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,4BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,+CAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,mDAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sEAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,8CAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,kCAApB;AACA,OAAO,KAAKC,GAAZ,MAAqB,iDAArB;;AACA,SAASC,mEAAT,CAA6EC,EAA7E,EAAiFC,GAAjF,EAAsF;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChGZ,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,GAAb;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACH;AAAE;;AACH,SAASC,4DAAT,CAAsEL,EAAtE,EAA0EC,GAA1E,EAA+E;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACzF,UAAMM,GAAG,GAAGlB,EAAE,CAACmB,gBAAH,EAAZ;;AACAnB,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,gBAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,gBAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAd,IAAAA,EAAE,CAACoB,UAAH,CAAc,CAAd,EAAiBT,mEAAjB,EAAsF,CAAtF,EAAyF,CAAzF,EAA4F,MAA5F,EAAoG,EAApG;AACAX,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,gBAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,kBAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,oBAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAd,IAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASC,qFAAT,GAAiG;AAAE,YAAMC,WAAW,GAAGvB,EAAE,CAACwB,aAAH,CAAiBN,GAAjB,CAApB;AAA2C,YAAMO,OAAO,GAAGF,WAAW,CAACG,SAA5B;AAAuC,YAAMC,MAAM,GAAG3B,EAAE,CAAC4B,aAAH,CAAiB,CAAjB,CAAf;AAAoC,aAAOD,MAAM,CAACE,cAAP,CAAsBJ,OAAtB,CAAP;AAAwC,KAAxR;AACAzB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,oBAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAd,IAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASS,qFAAT,GAAiG;AAAE,YAAMP,WAAW,GAAGvB,EAAE,CAACwB,aAAH,CAAiBN,GAAjB,CAApB;AAA2C,YAAMO,OAAO,GAAGF,WAAW,CAACG,SAA5B;AAAuC,YAAMK,MAAM,GAAG/B,EAAE,CAAC4B,aAAH,CAAiB,CAAjB,CAAf;AAAoC,aAAOG,MAAM,CAACC,8BAAP,CAAsCP,OAAtC,CAAP;AAAwD,KAAxS;AACAzB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,yEAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,oBAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAd,IAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASY,qFAAT,GAAiG;AAAE,YAAMV,WAAW,GAAGvB,EAAE,CAACwB,aAAH,CAAiBN,GAAjB,CAApB;AAA2C,YAAMO,OAAO,GAAGF,WAAW,CAACG,SAA5B;AAAuC,YAAMQ,OAAO,GAAGlC,EAAE,CAAC4B,aAAH,CAAiB,CAAjB,CAAhB;AAAqC,aAAOM,OAAO,CAACC,4BAAR,CAAqCV,OAArC,CAAP;AAAuD,KAAxS;AACAzB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,qDAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,oBAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAd,IAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASe,qFAAT,GAAiG;AAAE,YAAMb,WAAW,GAAGvB,EAAE,CAACwB,aAAH,CAAiBN,GAAjB,CAApB;AAA2C,YAAMO,OAAO,GAAGF,WAAW,CAACG,SAA5B;AAAuC,YAAMW,OAAO,GAAGrC,EAAE,CAAC4B,aAAH,CAAiB,CAAjB,CAAhB;AAAqC,aAAOS,OAAO,CAACC,wBAAR,CAAiCb,OAAjC,CAAP;AAAmD,KAApS;AACAzB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,kBAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,gBAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,cAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMa,OAAO,GAAGZ,GAAG,CAACa,SAApB;AACA,UAAMa,MAAM,GAAGvC,EAAE,CAAC4B,aAAH,CAAiB,CAAjB,CAAf;AACA5B,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAACyC,iBAAH,CAAqBhB,OAAO,CAACiB,IAA7B;AACA1C,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,MAAd,EAAsBJ,MAAM,CAACK,UAAP,CAAkBnB,OAAlB,CAAtB;AACAzB,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,UAAd,EAA0BJ,MAAM,CAACK,UAAP,CAAkBnB,OAAlB,CAA1B;AACAzB,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,UAAd,EAA0B,CAACJ,MAAM,CAACK,UAAP,CAAkBnB,OAAlB,CAA3B;AACAzB,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,UAAd,EAA0B,CAACJ,MAAM,CAACK,UAAP,CAAkBnB,OAAlB,CAA3B;AACAzB,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,UAAd,EAA0B,CAACJ,MAAM,CAACK,UAAP,CAAkBnB,OAAlB,CAA3B;AACAzB,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC6C,kBAAH,CAAsB,sBAAtB,EAA8CN,MAAM,CAACO,QAAP,CAAgBrB,OAAhB,IAA2B,qBAA3B,GAAmD,sBAAjG,EAAyH,oBAAzH;AACH;AAAE;;AACH,SAASsB,sDAAT,CAAgEnC,EAAhE,EAAoEC,GAApE,EAAyE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACnFZ,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,UAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,EAA9B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,YAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,OAArB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,cAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,gBAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,aAAb;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,gBAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,IAAtB,EAA4B,EAA5B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,gBAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,IAAtB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,cAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,YAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,YAAd;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,OAAtB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,cAAd;AACAf,IAAAA,EAAE,CAACoB,UAAH,CAAc,EAAd,EAAkBH,4DAAlB,EAAgF,EAAhF,EAAoF,CAApF,EAAuF,IAAvF,EAA6F,EAA7F;AACAjB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,YAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMoC,MAAM,GAAGhD,EAAE,CAAC4B,aAAH,EAAf;AACA5B,IAAAA,EAAE,CAACwC,SAAH,CAAa,EAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,SAAd,EAAyBK,MAAM,CAACC,cAAhC,EAAgD,cAAhD,EAAgED,MAAM,CAACE,aAAvE;AACH;AAAE;;AACH,MAAMC,GAAG,GAAG,UAAUC,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,EAAsB;AAAE,SAAO;AAAEC,IAAAA,IAAI,EAAEH,EAAR;AAAYI,IAAAA,UAAU,EAAEH,EAAxB;AAA4BI,IAAAA,YAAY,EAAEH;AAA1C,GAAP;AAAwD,CAA5F;;AACA,SAASI,sDAAT,CAAgE9C,EAAhE,EAAoEC,GAApE,EAAyE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACnF,UAAM+C,IAAI,GAAG3D,EAAE,CAACmB,gBAAH,EAAb;;AACAnB,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,KAArB;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,UAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,YAAb;AACAf,IAAAA,EAAE,CAAC4D,SAAH,CAAa,CAAb,EAAgB,gBAAhB,EAAkC,EAAlC;AACA5D,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,UAAb;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,YAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAd,IAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,YAAb;AACAf,IAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,gBAArB,EAAuC,EAAvC;AACAd,IAAAA,EAAE,CAACqB,UAAH,CAAc,YAAd,EAA4B,SAASwC,2FAAT,CAAqGC,MAArG,EAA6G;AAAE9D,MAAAA,EAAE,CAACwB,aAAH,CAAiBmC,IAAjB;AAAwB,YAAMI,OAAO,GAAG/D,EAAE,CAAC4B,aAAH,EAAhB;AAAoC,aAAOmC,OAAO,CAACR,IAAR,GAAeO,MAAtB;AAA+B,KAAtO,EAAwO,YAAxO,EAAsP,SAASD,2FAAT,GAAuG;AAAE7D,MAAAA,EAAE,CAACwB,aAAH,CAAiBmC,IAAjB;AAAwB,YAAMK,OAAO,GAAGhE,EAAE,CAAC4B,aAAH,EAAhB;AAAoC,aAAOoC,OAAO,CAACC,UAAR,EAAP;AAA8B,KAAzb;AACAjE,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACAhB,IAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,IAAAA,EAAE,CAACgB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMsD,MAAM,GAAGlE,EAAE,CAAC4B,aAAH,EAAf;AACA5B,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,QAAd,EAAwB3C,EAAE,CAACmE,eAAH,CAAmB,CAAnB,EAAsBhB,GAAtB,EAA2Be,MAAM,CAACX,IAAlC,EAAwCW,MAAM,CAACV,UAA/C,EAA2DU,MAAM,CAACT,YAAlE,CAAxB;AACAzD,IAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,IAAAA,EAAE,CAAC2C,UAAH,CAAc,gBAAd,EAAgCuB,MAAM,CAACV,UAAvC,EAAmD,MAAnD,EAA2DU,MAAM,CAACX,IAAlE,EAAwE,UAAxE,EAAoFW,MAAM,CAACT,YAA3F,EAAyG,QAAzG,EAAmH,IAAnH,EAAyH,eAAzH,EAA0I,IAA1I;AACH;AAAE;;AACH,SAASW,uDAAT,CAAiExD,EAAjE,EAAqEC,GAArE,EAA0E;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACpFZ,IAAAA,EAAE,CAAC4D,SAAH,CAAa,CAAb,EAAgB,MAAhB,EAAwB,EAAxB;AACH;AAAE;;AACH,SAASS,0DAAT,CAAoEzD,EAApE,EAAwEC,GAAxE,EAA6E;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACvFZ,IAAAA,EAAE,CAAC4D,SAAH,CAAa,CAAb,EAAgB,SAAhB,EAA2B,EAA3B;AACH;AAAE;AACH;AACA;AACA;;;AACA,OAAO,MAAMU,sCAAN,CAA6C;AAChD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,EAAAA,WAAW,CAACC,WAAD,EAAcC,EAAd,EAAkBC,oBAAlB,EAAwCC,aAAxC,EAAuDC,YAAvD,EAAqEC,yBAArE,EAAgG;AACvG,SAAKL,WAAL,GAAmBA,WAAnB;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,oBAAL,GAA4BA,oBAA5B;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,yBAAL,GAAiCA,yBAAjC;AACA,SAAKC,eAAL,GAAuB,KAAKL,EAAL,CAAQM,KAAR,CAAc,EAAd,CAAvB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKzB,IAAL,GAAY,CAAZ;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKP,cAAL,GAAsB,EAAtB;AACA,SAAKgC,gBAAL,GAAwB,EAAxB;AACA,SAAKC,uBAAL,GAA+B,EAA/B;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACA,SAAKC,2BAAL,GAAmC,EAAnC;AACA,SAAK3B,YAAL,GAAoB1D,cAApB;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACsB,MAAdsF,cAAc,CAACC,KAAD,EAAQ;AACtB,SAAKC,eAAL,GAAuBD,KAAvB;AACA1F,IAAAA,QAAQ,CAAC,CAAC,KAAK4F,2BAAL,EAAD,EAAqC,KAAKb,aAAL,CAAmBc,iCAAnB,CAAqDH,KAAK,CAACI,EAA3D,CAArC,CAAD,CAAR,CAA+GC,SAA/G,CAAyH,CAAC,GAAGC,MAAH,CAAD,KAAgB;AACrI,WAAKX,gBAAL,GAAwBW,MAAM,CAACC,GAAP,CAAWC,CAAC,IAAIA,CAAC,CAACC,UAAlB,CAAxB;AACA,WAAKZ,qBAAL,GAA6BS,MAAM,CAACI,MAAP,CAAcF,CAAC,IAAIA,CAAC,CAACG,MAArB,EAA6BJ,GAA7B,CAAiCC,CAAC,IAAIA,CAAC,CAACC,UAAxC,CAA7B;AACH,KAHD;AAIH;AACD;AACJ;AACA;;;AACsB,MAAdV,cAAc,GAAG;AACjB,WAAO,KAAKE,eAAZ;AACH;AACD;AACJ;AACA;;;AACIW,EAAAA,KAAK,GAAG;AACJ,SAAK1B,WAAL,CAAiB2B,OAAjB;AACH;AACD;AACJ;AACA;;;AACIC,EAAAA,IAAI,GAAG;AACH,SAAKC,SAAL;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;;;AACInD,EAAAA,aAAa,CAACoD,KAAD,EAAQC,IAAR,EAAc;AACvB,WAAOA,IAAI,CAACR,UAAZ;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACInD,EAAAA,UAAU,CAAC2D,IAAD,EAAO;AACb,WAAO,KAAKtB,gBAAL,CAAsBuB,QAAtB,CAA+BD,IAAI,CAACR,UAApC,CAAP;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIjD,EAAAA,QAAQ,CAACyD,IAAD,EAAO;AACX,WAAO,KAAKpB,qBAAL,CAA2BqB,QAA3B,CAAoCD,IAAI,CAACR,UAAzC,CAAP;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIlE,EAAAA,cAAc,CAAC0E,IAAD,EAAO;AACjB,SAAKtB,gBAAL,CAAsBwB,IAAtB,CAA2BF,IAAI,CAACR,UAAhC;;AACA,SAAKb,uBAAL,CAA6BuB,IAA7B,CAAkCF,IAAI,CAACR,UAAvC;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;;;AACI/D,EAAAA,8BAA8B,CAACuE,IAAD,EAAO;AACjC,UAAMG,QAAQ,GAAG,KAAK9B,YAAL,CAAkB+B,IAAlB,CAAuB9G,uCAAvB,EAAgE;AAAE+G,MAAAA,QAAQ,EAAE,QAAZ;AAAsBC,MAAAA,IAAI,EAAE;AAA5B,KAAhE,CAAjB;AACAH,IAAAA,QAAQ,CAACI,iBAAT,CAA2BC,iBAA3B,GAA+C;AAC3CC,MAAAA,gBAAgB,EAAE,KAAK3B,cAAL,CAAoBK,EADK;AAE3CuB,MAAAA,eAAe,EAAEV,IAAI,CAACR;AAFqB,KAA/C;AAIH;AACD;AACJ;AACA;;;AACI9B,EAAAA,UAAU,GAAG;AACT,SAAKuB,2BAAL;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIrD,EAAAA,4BAA4B,CAACoE,IAAD,EAAO;AAC/B,QAAIW,EAAJ;;AACA,UAAMC,iBAAiB,GAAGZ,IAAI,CAACR,UAAL,CAAgBqB,MAAhB,CAAuBb,IAAI,CAACR,UAAL,CAAgBsB,WAAhB,CAA4B,GAA5B,IAAmC,CAA1D,CAA1B;AACA,UAAMC,kBAAkB,GAAG,CAACJ,EAAE,GAAG,KAAK3B,eAAX,MAAgC,IAAhC,IAAwC2B,EAAE,KAAK,KAAK,CAApD,GAAwD,KAAK,CAA7D,GAAiEA,EAAE,CAACxB,EAAH,CAAM0B,MAAN,CAAa,KAAK7B,eAAL,CAAqBG,EAArB,CAAwB2B,WAAxB,CAAoC,GAApC,IAA2C,CAAxD,CAA5F;AACA,SAAKxC,yBAAL,CAA+B0C,kCAA/B,CAAkED,kBAAlE,EAAsFH,iBAAtF;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACI7E,EAAAA,wBAAwB,CAACiE,IAAD,EAAO;AAC3B,QAAI,KAAKzD,QAAL,CAAcyD,IAAd,CAAJ,EAAyB;AACrB,WAAKiB,iBAAL,CAAuBjB,IAAvB;AACH,KAFD,MAGK;AACD,WAAKkB,kBAAL,CAAwBlB,IAAxB;AACH;AACJ;AACD;AACJ;AACA;AACA;AACA;;;AACIkB,EAAAA,kBAAkB,CAAClB,IAAD,EAAO;AACrB,SAAK1B,yBAAL,CAA+B4C,kBAA/B,CAAkD,KAAKlC,eAAL,CAAqBG,EAAvE,EAA2Ea,IAAI,CAACR,UAAhF,EAA4FJ,SAA5F,CAAsG,MAAM;AACxGY,MAAAA,IAAI,CAACN,MAAL,GAAc,IAAd;;AACA,WAAKd,qBAAL,CAA2BsB,IAA3B,CAAgCF,IAAI,CAACR,UAArC;AACH,KAHD;AAIH;AACD;AACJ;AACA;AACA;AACA;;;AACIyB,EAAAA,iBAAiB,CAACjB,IAAD,EAAO;AACpB,SAAK1B,yBAAL,CAA+B2C,iBAA/B,CAAiD,KAAKjC,eAAL,CAAqBG,EAAtE,EAA0Ea,IAAI,CAACR,UAA/E,EAA2FJ,SAA3F,CAAqG,MAAM;AACvGY,MAAAA,IAAI,CAACN,MAAL,GAAc,KAAd;;AACA,WAAKd,qBAAL,CAA2BuC,MAA3B,CAAkC,KAAKvC,qBAAL,CAA2BwC,OAA3B,CAAmCpB,IAAI,CAACR,UAAxC,CAAlC;AACH,KAHD;AAIH;AACD;AACJ;AACA;;;AACUM,EAAAA,SAAS,GAAG;AAAA;;AAAA;AACd,YAAM,KAAI,CAAC1B,aAAL,CAAmBiD,0BAAnB,CAA8C,KAAI,CAACvC,cAAL,CAAoBK,EAAlE,EAAsE,KAAI,CAACR,uBAA3E,EAAoG2C,SAApG,EAAN;;AACA,MAAA,KAAI,CAACrD,WAAL,CAAiB0B,KAAjB;AAFc;AAGjB;AACD;AACJ;AACA;;;AACUV,EAAAA,2BAA2B,GAAG;AAAA;;AAAA;AAChC,UAAI0B,EAAJ;;AACA,YAAMY,QAAQ,SAAS,MAAI,CAACpD,oBAAL,CAClBqD,yBADkB,CACQ;AAC3BxE,QAAAA,IAAI,EAAE,MAAI,CAACA,IAAL,GAAY,CADS;AAE3BsD,QAAAA,IAAI,EAAE,MAAI,CAACpD,YAFgB;AAG3BuE,QAAAA,IAAI,EAAE;AAHqB,OADR,EAKpBC,SALoB,EAMlBJ,SANkB,EAAvB;AAOA,MAAA,MAAI,CAACrE,UAAL,GAAkB0E,MAAM,CAACJ,QAAQ,CAACK,OAAT,CAAiBC,GAAjB,CAAqBtI,YAArB,CAAD,CAAxB;AACA,MAAA,MAAI,CAACmD,cAAL,GAAsB,CAACiE,EAAE,GAAGY,QAAQ,CAACO,IAAf,MAAyB,IAAzB,IAAiCnB,EAAE,KAAK,KAAK,CAA7C,GAAiDA,EAAjD,GAAsD,EAA5E;AAVgC;AAWnC;;AAnL+C;;AAqLpD5C,sCAAsC,CAACgE,IAAvC,GAA8C,SAASC,8CAAT,CAAwDC,CAAxD,EAA2D;AAAE,SAAO,KAAKA,CAAC,IAAIlE,sCAAV,EAAkDtE,EAAE,CAACyI,iBAAH,CAAqBxI,EAAE,CAACyI,cAAxB,CAAlD,EAA2F1I,EAAE,CAACyI,iBAAH,CAAqBvI,EAAE,CAACyI,WAAxB,CAA3F,EAAiI3I,EAAE,CAACyI,iBAAH,CAAqBtI,EAAE,CAACyI,qBAAxB,CAAjI,EAAiL5I,EAAE,CAACyI,iBAAH,CAAqBrI,EAAE,CAACyI,uBAAxB,CAAjL,EAAmO7I,EAAE,CAACyI,iBAAH,CAAqBxI,EAAE,CAAC6I,QAAxB,CAAnO,EAAsQ9I,EAAE,CAACyI,iBAAH,CAAqBpI,EAAE,CAAC0I,6BAAxB,CAAtQ,CAAP;AAAuU,CAAlb;;AACAzE,sCAAsC,CAAC0E,IAAvC,GAA8C,aAAchJ,EAAE,CAACiJ,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE5E,sCAAR;AAAgD6E,EAAAA,SAAS,EAAE,CAAC,CAAC,sCAAD,CAAD,CAA3D;AAAuGC,EAAAA,KAAK,EAAE,EAA9G;AAAkHC,EAAAA,IAAI,EAAE,CAAxH;AAA2HC,EAAAA,MAAM,EAAE,CAAC,CAAC,MAAD,EAAS,MAAT,EAAiB,CAAjB,EAAoB,WAApB,EAAiC,UAAjC,CAAD,EAA+C,CAAC,CAAD,EAAI,cAAJ,CAA/C,EAAoE,CAAC,cAAD,EAAiB,+DAAjB,EAAkF,CAAlF,EAAqF,aAArF,CAApE,EAAyK,CAAC,MAAD,EAAS,QAAT,EAAmB,cAAnB,EAAmC,OAAnC,EAA4C,aAA5C,EAA2D,MAA3D,EAAmE,CAAnE,EAAsE,OAAtE,EAA+E,CAA/E,EAAkF,OAAlF,CAAzK,EAAqQ,CAAC,CAAD,EAAI,YAAJ,CAArQ,EAAwR,CAAC,cAAD,EAAiB,0DAAjB,CAAxR,EAAsW,CAAC,OAAD,EAAU,kBAAV,EAA8B,CAA9B,EAAiC,MAAjC,CAAtW,EAAgZ,CAAC,CAAD,EAAI,MAAJ,CAAhZ,EAA6Z,CAAC,CAAD,EAAI,cAAJ,CAA7Z,EAAkb,CAAC,MAAD,EAAS,QAAT,EAAmB,CAAnB,EAAsB,KAAtB,EAA6B,eAA7B,EAA8C,CAA9C,EAAiD,OAAjD,CAAlb,EAA6e,CAAC,MAAD,EAAS,KAAT,CAA7e,EAA8f,CAAC,cAAD,EAAiB,8BAAjB,CAA9f,EAAgjB,CAAC,MAAD,EAAS,QAAT,EAAmB,CAAnB,EAAsB,KAAtB,EAA6B,aAA7B,EAA4C,CAA5C,EAA+C,UAA/C,CAAhjB,EAA4mB,CAAC,OAAD,EAAU,uCAAV,EAAmD,CAAnD,EAAsD,MAAtD,CAA5mB,EAA2qB,CAAC,MAAD,EAAS,MAAT,EAAiB,CAAjB,EAAoB,MAApB,CAA3qB,EAAwsB,CAAC,cAAD,EAAiB,4BAAjB,CAAxsB,EAAwvB,CAAC,CAAD,EAAI,kBAAJ,CAAxvB,EAAixB,CAAC,CAAD,EAAI,OAAJ,EAAa,eAAb,CAAjxB,EAAgzB,CAAC,cAAD,EAAiB,iDAAjB,CAAhzB,EAAq3B,CAAC,cAAD,EAAiB,8CAAjB,CAAr3B,EAAu7B,CAAC,CAAD,EAAI,OAAJ,EAAa,SAAb,EAAwB,cAAxB,CAAv7B,EAAg+B,CAAC,OAAD,EAAU,WAAV,EAAuB,CAAvB,EAA0B,MAA1B,CAAh+B,EAAmgC,CAAC,CAAD,EAAI,YAAJ,CAAngC,EAAshC,CAAC,CAAD,EAAI,WAAJ,CAAthC,EAAwiC,CAAC,CAAD,EAAI,KAAJ,EAAW,eAAX,EAA4B,CAA5B,EAA+B,UAA/B,EAA2C,OAA3C,CAAxiC,EAA6lC,CAAC,CAAD,EAAI,KAAJ,EAAW,UAAX,EAAuB,CAAvB,EAA0B,UAA1B,EAAsC,OAAtC,CAA7lC,EAA6oC,CAAC,CAAD,EAAI,KAAJ,EAAW,YAAX,EAAyB,CAAzB,EAA4B,UAA5B,EAAwC,OAAxC,CAA7oC,EAA+rC,CAAC,CAAD,EAAI,WAAJ,CAA/rC,EAAitC,CAAC,CAAD,EAAI,KAAJ,EAAW,wBAAX,CAAjtC,EAAuvC,CAAC,CAAD,EAAI,QAAJ,CAAvvC,EAAswC,CAAC,CAAD,EAAI,gBAAJ,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C,QAA1C,EAAoD,eAApD,EAAqE,YAArE,CAAtwC,EAA01C,CAAC,CAAD,EAAI,gBAAJ,EAAsB,mBAAtB,EAA2C,MAA3C,CAA11C,EAA84C,CAAC,MAAD,EAAS,MAAT,CAA94C,CAAnI;AAAoiDC,EAAAA,QAAQ,EAAE,SAASC,+CAAT,CAAyD5I,EAAzD,EAA6DC,GAA7D,EAAkE;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACvsDZ,MAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B;AACAd,MAAAA,EAAE,CAACqB,UAAH,CAAc,UAAd,EAA0B,SAASoI,wEAAT,GAAoF;AAAE,eAAO5I,GAAG,CAACuF,IAAJ,EAAP;AAAoB,OAApI;AACApG,MAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,MAAb;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,QAAb;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,gDAAb;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,UAAb;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,CAA/B;AACAd,MAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASqI,uEAAT,GAAmF;AAAE,eAAO7I,GAAG,CAACqF,KAAJ,EAAP;AAAqB,OAAjI;AACAlG,MAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,QAAb;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,CAAV,EAAa,MAAb;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,IAAtB,EAA4B,CAA5B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,iBAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,MAAAA,EAAE,CAACoB,UAAH,CAAc,EAAd,EAAkB2B,sDAAlB,EAA0E,EAA1E,EAA8E,CAA9E,EAAiF,KAAjF,EAAwF,CAAxF;AACA/C,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,MAAAA,EAAE,CAACoB,UAAH,CAAc,EAAd,EAAkBsC,sDAAlB,EAA0E,EAA1E,EAA8E,EAA9E,EAAkF,KAAlF,EAAyF,CAAzF;AACA1D,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,MAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,CAAhC;AACAd,MAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASsI,wEAAT,GAAoF;AAAE,eAAO9I,GAAG,CAACqF,KAAJ,EAAP;AAAqB,OAAlI;AACAlG,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,MAAAA,EAAE,CAAC4D,SAAH,CAAa,EAAb,EAAiB,SAAjB,EAA4B,EAA5B;AACA5D,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,MAAtB,EAA8B,EAA9B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,MAAAA,EAAE,CAACoB,UAAH,CAAc,EAAd,EAAkBgD,uDAAlB,EAA2E,CAA3E,EAA8E,CAA9E,EAAiF,MAAjF,EAAyF,EAAzF;AACApE,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,UAAd;AACAf,MAAAA,EAAE,CAACoB,UAAH,CAAc,EAAd,EAAkBiD,0DAAlB,EAA8E,CAA9E,EAAiF,CAAjF,EAAoF,SAApF,EAA+F,EAA/F;AACArE,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACc,cAAH,CAAkB,EAAlB,EAAsB,MAAtB,EAA8B,EAA9B;AACAd,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,MAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,QAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,MAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,IAAd;AACAf,MAAAA,EAAE,CAACgB,YAAH;AACAhB,MAAAA,EAAE,CAACe,MAAH,CAAU,EAAV,EAAc,IAAd;AACH;;AAAC,QAAIH,EAAE,GAAG,CAAT,EAAY;AACVZ,MAAAA,EAAE,CAAC2C,UAAH,CAAc,WAAd,EAA2B9B,GAAG,CAACiE,eAA/B;AACA9E,MAAAA,EAAE,CAACwC,SAAH,CAAa,EAAb;AACAxC,MAAAA,EAAE,CAAC2C,UAAH,CAAc,MAAd,EAAsB9B,GAAG,CAACoC,cAA1B;AACAjD,MAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,MAAAA,EAAE,CAAC2C,UAAH,CAAc,MAAd,EAAsB9B,GAAG,CAACoC,cAA1B;AACAjD,MAAAA,EAAE,CAACwC,SAAH,CAAa,EAAb;AACAxC,MAAAA,EAAE,CAAC2C,UAAH,CAAc,UAAd,EAA0B9B,GAAG,CAACiE,eAAJ,CAAoB8E,OAApB,IAA+B/I,GAAG,CAACmE,QAA7D;AACAhF,MAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,MAAAA,EAAE,CAAC2C,UAAH,CAAc,MAAd,EAAsB9B,GAAG,CAACmE,QAA1B;AACAhF,MAAAA,EAAE,CAACwC,SAAH,CAAa,CAAb;AACAxC,MAAAA,EAAE,CAAC2C,UAAH,CAAc,MAAd,EAAsB,CAAC9B,GAAG,CAACmE,QAA3B;AACH;AAAE,GAtE0E;AAsExE6E,EAAAA,UAAU,EAAE,CAAC3J,EAAE,CAAC4J,aAAJ,EAAmB5J,EAAE,CAAC6J,oBAAtB,EAA4C7J,EAAE,CAAC8J,kBAA/C,EAAmE1J,EAAE,CAAC2J,EAAtE,EAA0E1J,EAAE,CAAC2J,kBAA7E,EAAiG1J,EAAE,CAAC2J,IAApG,EAA0G1J,EAAE,CAAC2J,eAA7G,EAA8H5J,EAAE,CAAC6J,OAAjI,EAA0I3J,GAAG,CAAC4J,kBAA9I,EAAkKrK,EAAE,CAACsK,aAArK,CAtE4D;AAsEyHC,EAAAA,MAAM,EAAE,CAAC,ibAAD;AAtEjI,CAArB,CAA5D","sourcesContent":["import { forkJoin } from 'rxjs';\nimport { LecturerTaskAssignmentOverviewComponent } from './lecturer-task-assignment-overview/lecturer-task-assignment-overview.component';\nimport { COUNT_HEADER, ITEMS_PER_PAGE } from 'app/config/pagination.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../exercise-sheets/exercise-sheets.service\";\nimport * as i4 from \"../../course-management/course-management.service\";\nimport * as i5 from \"./lecturer-task-assignment-overview/lecturer-task-assignment.service\";\nimport * as i6 from \"@rxweb/reactive-form-validators\";\nimport * as i7 from \"../../../shared/language/translate.directive\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@fortawesome/angular-fontawesome\";\nimport * as i10 from \"../../../shared/pagination/item-count.component\";\nfunction CourseExerciseSheetAllocationComponent_div_16_tr_21_span_6_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \"X\");\n    i0.ɵɵelementEnd();\n} }\nfunction CourseExerciseSheetAllocationComponent_div_16_tr_21_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, CourseExerciseSheetAllocationComponent_div_16_tr_21_span_6_Template, 2, 0, \"span\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementStart(8, \"td\", 22);\n    i0.ɵɵtext(9, \"\\n              \");\n    i0.ɵɵelementStart(10, \"div\", 23);\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementStart(12, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_12_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const item_r5 = restoredCtx.$implicit; const ctx_r7 = i0.ɵɵnextContext(2); return ctx_r7.markAsSelected(item_r5); });\n    i0.ɵɵtext(13, \"Zuordnen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_15_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const item_r5 = restoredCtx.$implicit; const ctx_r9 = i0.ɵɵnextContext(2); return ctx_r9.openLecturerAssignmentOverview(item_r5); });\n    i0.ɵɵtext(16, \"\\n                  Open the course instructor's view\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                \");\n    i0.ɵɵelementStart(18, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_18_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const item_r5 = restoredCtx.$implicit; const ctx_r10 = i0.ɵɵnextContext(2); return ctx_r10.exportPointsForExerciseSheet(item_r5); });\n    i0.ɵɵtext(19, \"\\n                  Export points\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n    i0.ɵɵelementStart(21, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_div_16_tr_21_Template_button_click_21_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const item_r5 = restoredCtx.$implicit; const ctx_r11 = i0.ɵɵnextContext(2); return ctx_r11.openOrCloseExerciseSheet(item_r5); });\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n          \");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r5.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.isSelected(item_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                  \", ctx_r4.isClosed(item_r5) ? \"Open exercise sheet\" : \"Close exercise sheet\", \"\\n                \");\n} }\nfunction CourseExerciseSheetAllocationComponent_div_16_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"table\", 17);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementStart(4, \"thead\");\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"tr\");\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementStart(8, \"th\", 18);\n    i0.ɵɵtext(9, \"Designation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementStart(11, \"th\", 19);\n    i0.ɵɵtext(12, \"Selected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n            \");\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n        \");\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtext(20, \"\\n          \");\n    i0.ɵɵtemplate(21, CourseExerciseSheetAllocationComponent_div_16_tr_21_Template, 26, 7, \"tr\", 20);\n    i0.ɵɵtext(22, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n    \");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.exerciseSheets)(\"ngForTrackBy\", ctx_r0.trackIdentity);\n} }\nconst _c0 = function (a0, a1, a2) { return { page: a0, totalItems: a1, itemsPerPage: a2 }; };\nfunction CourseExerciseSheetAllocationComponent_div_18_Template(rf, ctx) { if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelement(4, \"jhi-item-count\", 29);\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n\\n      \");\n    i0.ɵɵelementStart(7, \"div\", 28);\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵelementStart(9, \"ngb-pagination\", 30);\n    i0.ɵɵlistener(\"pageChange\", function CourseExerciseSheetAllocationComponent_div_18_Template_ngb_pagination_pageChange_9_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(); return ctx_r12.page = $event; })(\"pageChange\", function CourseExerciseSheetAllocationComponent_div_18_Template_ngb_pagination_pageChange_9_listener() { i0.ɵɵrestoreView(_r13); const ctx_r14 = i0.ɵɵnextContext(); return ctx_r14.transition(); });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n    \");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"params\", i0.ɵɵpureFunction3(6, _c0, ctx_r1.page, ctx_r1.totalItems, ctx_r1.itemsPerPage));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"collectionSize\", ctx_r1.totalItems)(\"page\", ctx_r1.page)(\"pageSize\", ctx_r1.itemsPerPage)(\"rotate\", true)(\"boundaryLinks\", true);\n} }\nfunction CourseExerciseSheetAllocationComponent_span_33_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 31);\n} }\nfunction CourseExerciseSheetAllocationComponent_fa_icon_35_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"fa-icon\", 32);\n} }\n/**\n * Modal window for displaying exercise sheet assignments.\n */\nexport class CourseExerciseSheetAllocationComponent {\n    /**\n     * Constructor.\n     *\n     * @param activeModal the injected active modal service\n     * @param fb the injected form builder\n     * @param exerciseSheetService the injected exercise sheet service\n     * @param courseService the injected course service\n     * @param modalService the injected modal service\n     * @param lecturerAssignmentService the injected lecturer assignment service\n     */\n    constructor(activeModal, fb, exerciseSheetService, courseService, modalService, lecturerAssignmentService) {\n        this.activeModal = activeModal;\n        this.fb = fb;\n        this.exerciseSheetService = exerciseSheetService;\n        this.courseService = courseService;\n        this.modalService = modalService;\n        this.lecturerAssignmentService = lecturerAssignmentService;\n        this.allocationGroup = this.fb.group({});\n        this.isSaving = false;\n        this.page = 1;\n        this.totalItems = 0;\n        this.exerciseSheets = [];\n        this.selectedSheetsId = [];\n        this._selectedSheetIdsToSave = [];\n        this._closedExerciseSheets = [];\n        this._exerciseSheetPointOverview = [];\n        this.itemsPerPage = ITEMS_PER_PAGE;\n    }\n    /**\n     * Sets the course instance.\n     *\n     * @param value the value to set\n     */\n    set courseInstance(value) {\n        this._courseInstance = value;\n        forkJoin([this.loadExerciseSheetsPageAsync(), this.courseService.getExerciseSheetsOfCourseInstance(value.id)]).subscribe(([, second]) => {\n            this.selectedSheetsId = second.map(x => x.internalId);\n            this._closedExerciseSheets = second.filter(x => x.closed).map(x => x.internalId);\n        });\n    }\n    /**\n     * Returns the course instance.\n     */\n    get courseInstance() {\n        return this._courseInstance;\n    }\n    /**\n     * Closes the currently open modal window.\n     */\n    close() {\n        this.activeModal.dismiss();\n    }\n    /**\n     * Saves the form.\n     */\n    save() {\n        this.saveAsync();\n    }\n    /**\n     * Returns the identity id from the given item.\n     *\n     * @param index the index\n     * @param item the item\n     */\n    trackIdentity(index, item) {\n        return item.internalId;\n    }\n    /**\n     * Returns whether the given exercise sheet display dto is selected or not.\n     *\n     * @param item the exercise sheet display dto to check\n     */\n    isSelected(item) {\n        return this.selectedSheetsId.includes(item.internalId);\n    }\n    /**\n     * Returns whether the given exercise sheet is already closed or not.\n     *\n     * @param item the exercise sheet to check\n     */\n    isClosed(item) {\n        return this._closedExerciseSheets.includes(item.internalId);\n    }\n    /**\n     * Marks the given exercise sheet display dto as selected.\n     *\n     * @param item the item to mark\n     */\n    markAsSelected(item) {\n        this.selectedSheetsId.push(item.internalId);\n        this._selectedSheetIdsToSave.push(item.internalId);\n    }\n    /**\n     * Opens the lecturer assignment overview for the given exercise sheet from the\n     * currently selected course instance.\n     *\n     * @param item the selected exercise sheet\n     */\n    openLecturerAssignmentOverview(item) {\n        const modalRef = this.modalService.open(LecturerTaskAssignmentOverviewComponent, { backdrop: 'static', size: 'xl' });\n        modalRef.componentInstance.assignedSheetInfo = {\n            courseInstanceId: this.courseInstance.id,\n            exerciseSheetId: item.internalId,\n        };\n    }\n    /**\n     * Performs the page transition.\n     */\n    transition() {\n        this.loadExerciseSheetsPageAsync();\n    }\n    /**\n     * Requests the overview of the achieved points for a specific exercise-sheet.\n     *\n     * @param item the exercise sheet\n     */\n    exportPointsForExerciseSheet(item) {\n        var _a;\n        const exerciseSheetUUID = item.internalId.substr(item.internalId.lastIndexOf('#') + 1);\n        const courseInstanceUUID = (_a = this._courseInstance) === null || _a === void 0 ? void 0 : _a.id.substr(this._courseInstance.id.lastIndexOf('#') + 1);\n        this.lecturerAssignmentService.getExerciseSheetPointOverviewAsCSV(courseInstanceUUID, exerciseSheetUUID);\n    }\n    /**\n     * Opens or closes the requested exercise sheet.\n     *\n     * @param item the exercise sheet\n     */\n    openOrCloseExerciseSheet(item) {\n        if (this.isClosed(item)) {\n            this.openExerciseSheet(item);\n        }\n        else {\n            this.closeExerciseSheet(item);\n        }\n    }\n    /**\n     * Closes the requested exercise sheet.\n     *\n     * @param item the exercise sheet\n     */\n    closeExerciseSheet(item) {\n        this.lecturerAssignmentService.closeExerciseSheet(this._courseInstance.id, item.internalId).subscribe(() => {\n            item.closed = true;\n            this._closedExerciseSheets.push(item.internalId);\n        });\n    }\n    /**\n     * Re-opens an already closed exercise sheet.\n     *\n     * @param item the exercise sheet\n     */\n    openExerciseSheet(item) {\n        this.lecturerAssignmentService.openExerciseSheet(this._courseInstance.id, item.internalId).subscribe(() => {\n            item.closed = false;\n            this._closedExerciseSheets.splice(this._closedExerciseSheets.indexOf(item.internalId));\n        });\n    }\n    /**\n     * Asynchronously saves the form.\n     */\n    async saveAsync() {\n        await this.courseService.addExerciseSheetAssignment(this.courseInstance.id, this._selectedSheetIdsToSave).toPromise();\n        this.activeModal.close();\n    }\n    /**\n     * Asynchronously loads the exercise sheets page.\n     */\n    async loadExerciseSheetsPageAsync() {\n        var _a;\n        const response = await this.exerciseSheetService\n            .getPagedExerciseSheetPage({\n            page: this.page - 1,\n            size: this.itemsPerPage,\n            sort: [],\n        }, undefined)\n            .toPromise();\n        this.totalItems = Number(response.headers.get(COUNT_HEADER));\n        this.exerciseSheets = (_a = response.body) !== null && _a !== void 0 ? _a : [];\n    }\n}\nCourseExerciseSheetAllocationComponent.ɵfac = function CourseExerciseSheetAllocationComponent_Factory(t) { return new (t || CourseExerciseSheetAllocationComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ExerciseSheetsService), i0.ɵɵdirectiveInject(i4.CourseManagementService), i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i5.LecturerTaskAssignmentService)); };\nCourseExerciseSheetAllocationComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CourseExerciseSheetAllocationComponent, selectors: [[\"jhi-course-exercise-sheet-allocation\"]], decls: 43, vars: 6, consts: [[\"role\", \"form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"modal-header\"], [\"jhiTranslate\", \"courseManagement.instances.overview.assignExerciseSheetHeader\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [1, \"modal-body\"], [\"jhiTranslate\", \"courseManagement.instances.overview.exerciseSheetsHeader\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"icon\", \"ban\"], [\"jhiTranslate\", \"courseManagement.form.cancel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm mr-1\", 4, \"ngIf\"], [\"icon\", \"save\", 4, \"ngIf\"], [\"jhiTranslate\", \"courseManagement.form.save\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"jhiTranslate\", \"courseManagement.instances.overview.designation\"], [\"jhiTranslate\", \"courseManagement.instances.overview.selected\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"bold-span\", 4, \"ngIf\"], [1, \"text-right\"], [1, \"btn-group\"], [1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-info\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [1, \"bold-span\"], [1, \"row\", \"justify-content-center\"], [3, \"params\"], [3, \"collectionSize\", \"page\", \"pageSize\", \"rotate\", \"boundaryLinks\", \"pageChange\"], [1, \"spinner-border\", \"spinner-border-sm\", \"mr-1\"], [\"icon\", \"save\"]], template: function CourseExerciseSheetAllocationComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function CourseExerciseSheetAllocationComponent_Template_form_ngSubmit_0_listener() { return ctx.save(); });\n        i0.ɵɵtext(1, \"\\n  \");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtext(3, \"\\n    \");\n        i0.ɵɵelementStart(4, \"h4\", 2);\n        i0.ɵɵtext(5, \"\\n      Adjust exercise sheet allocation\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6, \"\\n\\n    \");\n        i0.ɵɵelementStart(7, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_Template_button_click_7_listener() { return ctx.close(); });\n        i0.ɵɵtext(8, \"\\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \"\\n\\n  \");\n        i0.ɵɵelementStart(11, \"div\", 4);\n        i0.ɵɵtext(12, \"\\n    \");\n        i0.ɵɵelementStart(13, \"h5\", 5);\n        i0.ɵɵtext(14, \"Exercise sheets\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \"\\n\\n    \");\n        i0.ɵɵtemplate(16, CourseExerciseSheetAllocationComponent_div_16_Template, 25, 2, \"div\", 6);\n        i0.ɵɵtext(17, \"\\n\\n    \");\n        i0.ɵɵtemplate(18, CourseExerciseSheetAllocationComponent_div_18_Template, 12, 10, \"div\", 7);\n        i0.ɵɵtext(19, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \"\\n\\n  \");\n        i0.ɵɵelementStart(21, \"div\", 8);\n        i0.ɵɵtext(22, \"\\n    \");\n        i0.ɵɵelementStart(23, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function CourseExerciseSheetAllocationComponent_Template_button_click_23_listener() { return ctx.close(); });\n        i0.ɵɵtext(24, \"\\n      \");\n        i0.ɵɵelement(25, \"fa-icon\", 10);\n        i0.ɵɵtext(26, \"\\u00A0\");\n        i0.ɵɵelementStart(27, \"span\", 11);\n        i0.ɵɵtext(28, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(29, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(30, \"\\n\\n    \");\n        i0.ɵɵelementStart(31, \"button\", 12);\n        i0.ɵɵtext(32, \"\\n      \");\n        i0.ɵɵtemplate(33, CourseExerciseSheetAllocationComponent_span_33_Template, 1, 0, \"span\", 13);\n        i0.ɵɵtext(34, \"\\n      \");\n        i0.ɵɵtemplate(35, CourseExerciseSheetAllocationComponent_fa_icon_35_Template, 1, 0, \"fa-icon\", 14);\n        i0.ɵɵtext(36, \"\\u00A0\");\n        i0.ɵɵelementStart(37, \"span\", 15);\n        i0.ɵɵtext(38, \"Save\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(39, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(40, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(41, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(42, \"\\n\");\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.allocationGroup);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngIf\", ctx.exerciseSheets);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.exerciseSheets);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"disabled\", ctx.allocationGroup.invalid || ctx.isSaving);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSaving);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isSaving);\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i6.ɵa, i7.TranslateDirective, i8.NgIf, i9.FaIconComponent, i8.NgForOf, i10.ItemCountComponent, i1.NgbPagination], styles: [\".bold-span[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS1leGVyY2lzZS1zaGVldC1hbGxvY2F0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRiIsImZpbGUiOiJjb3Vyc2UtZXhlcmNpc2Utc2hlZXQtYWxsb2NhdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib2xkLXNwYW4ge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}