{"ast":null,"code":"import _asyncToGenerator from \"/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/overview/shared/file-upload/file-upload.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction FileDownloadComponent_ul_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"li\", 1);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"span\", 2);\n    i0.ɵɵlistener(\"click\", function FileDownloadComponent_ul_0_Template_span_click_4_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.downloadCurrentFile();\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.fileMetaData == null ? null : ctx_r0.fileMetaData.fileName, \" - \", i0.ɵɵpipeBind2(6, 2, ctx_r0.fileMetaData == null ? null : ctx_r0.fileMetaData.submissionDate, \"dd.MM.yyyy HH:mm\"), \"\");\n  }\n}\n/**\n * Component for displaying a downloadable file attachment\n */\n\n\nexport class FileDownloadComponent {\n  /**\n   * Constructor.\n   *\n   * @param fileUploadService the injected file upload service\n   */\n  constructor(fileUploadService) {\n    this.fileUploadService = fileUploadService;\n    this._fileId = -1;\n  }\n  /**\n   * Sets the file id.\n   *\n   * @param value the value to set\n   */\n\n\n  set fileId(value) {\n    var _this = this;\n\n    this._fileId = value;\n\n    if (value > -1) {\n      _asyncToGenerator(function* () {\n        _this.fileMetaData = yield _this.fileUploadService.getFileMetaData(value).toPromise();\n      })();\n    } else {\n      this.fileMetaData = undefined;\n    }\n  }\n  /**\n   * Returns the file id.\n   */\n\n\n  get fileId() {\n    return this._fileId;\n  }\n  /**\n   * Downloads the current file.\n   */\n\n\n  downloadCurrentFile() {\n    this.fileUploadService.retrieveAndDownloadFile(this.fileId);\n  }\n\n}\n\nFileDownloadComponent.ɵfac = function FileDownloadComponent_Factory(t) {\n  return new (t || FileDownloadComponent)(i0.ɵɵdirectiveInject(i1.FileUploadService));\n};\n\nFileDownloadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FileDownloadComponent,\n  selectors: [[\"jhi-file-download\"]],\n  inputs: {\n    fileId: \"fileId\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [1, \"bold-font\"], [1, \"pointer\", \"hover-underline\", 3, \"click\"]],\n  template: function FileDownloadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, FileDownloadComponent_ul_0_Template, 9, 5, \"ul\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.fileId >= 0);\n    }\n  },\n  directives: [i2.NgIf],\n  pipes: [i2.DatePipe],\n  styles: [\".bold-font[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.pointer[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.hover-underline[_ngcontent-%COMP%]:hover {\\n  -webkit-text-decoration-line: underline;\\n          text-decoration-line: underline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtZG93bmxvYWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtBQUNGOztBQUVBO0VBQ0UsdUNBQUE7VUFBQSwrQkFBQTtBQUNGIiwiZmlsZSI6ImZpbGUtZG93bmxvYWQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9sZC1mb250IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5wb2ludGVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uaG92ZXItdW5kZXJsaW5lOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uLWxpbmU6IHVuZGVybGluZTtcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/src/main/webapp/app/overview/shared/file-download/file-download.component.ts"],"names":["i0","i1","i2","FileDownloadComponent_ul_0_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵlistener","FileDownloadComponent_ul_0_Template_span_click_4_listener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","downloadCurrentFile","ɵɵpipe","ɵɵelementEnd","ctx_r0","ɵɵadvance","ɵɵtextInterpolate2","fileMetaData","fileName","ɵɵpipeBind2","submissionDate","FileDownloadComponent","constructor","fileUploadService","_fileId","fileId","value","getFileMetaData","toPromise","undefined","retrieveAndDownloadFile","ɵfac","FileDownloadComponent_Factory","t","ɵɵdirectiveInject","FileUploadService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","FileDownloadComponent_Template","ɵɵtemplate","ɵɵproperty","directives","NgIf","pipes","DatePipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"app/overview/shared/file-upload/file-upload.service\";\nimport * as i2 from \"@angular/common\";\nfunction FileDownloadComponent_ul_0_Template(rf, ctx) { if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"li\", 1);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"span\", 2);\n    i0.ɵɵlistener(\"click\", function FileDownloadComponent_ul_0_Template_span_click_4_listener() { i0.ɵɵrestoreView(_r2); const ctx_r1 = i0.ɵɵnextContext(); return ctx_r1.downloadCurrentFile(); });\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n\");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.fileMetaData == null ? null : ctx_r0.fileMetaData.fileName, \" - \", i0.ɵɵpipeBind2(6, 2, ctx_r0.fileMetaData == null ? null : ctx_r0.fileMetaData.submissionDate, \"dd.MM.yyyy HH:mm\"), \"\");\n} }\n/**\n * Component for displaying a downloadable file attachment\n */\nexport class FileDownloadComponent {\n    /**\n     * Constructor.\n     *\n     * @param fileUploadService the injected file upload service\n     */\n    constructor(fileUploadService) {\n        this.fileUploadService = fileUploadService;\n        this._fileId = -1;\n    }\n    /**\n     * Sets the file id.\n     *\n     * @param value the value to set\n     */\n    set fileId(value) {\n        this._fileId = value;\n        if (value > -1) {\n            (async () => {\n                this.fileMetaData = await this.fileUploadService.getFileMetaData(value).toPromise();\n            })();\n        }\n        else {\n            this.fileMetaData = undefined;\n        }\n    }\n    /**\n     * Returns the file id.\n     */\n    get fileId() {\n        return this._fileId;\n    }\n    /**\n     * Downloads the current file.\n     */\n    downloadCurrentFile() {\n        this.fileUploadService.retrieveAndDownloadFile(this.fileId);\n    }\n}\nFileDownloadComponent.ɵfac = function FileDownloadComponent_Factory(t) { return new (t || FileDownloadComponent)(i0.ɵɵdirectiveInject(i1.FileUploadService)); };\nFileDownloadComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FileDownloadComponent, selectors: [[\"jhi-file-download\"]], inputs: { fileId: \"fileId\" }, decls: 2, vars: 1, consts: [[4, \"ngIf\"], [1, \"bold-font\"], [1, \"pointer\", \"hover-underline\", 3, \"click\"]], template: function FileDownloadComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, FileDownloadComponent_ul_0_Template, 9, 5, \"ul\", 0);\n        i0.ɵɵtext(1, \"\\n\");\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.fileId >= 0);\n    } }, directives: [i2.NgIf], pipes: [i2.DatePipe], styles: [\".bold-font[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.pointer[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.hover-underline[_ngcontent-%COMP%]:hover {\\n  -webkit-text-decoration-line: underline;\\n          text-decoration-line: underline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtZG93bmxvYWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtBQUNGOztBQUVBO0VBQ0UsdUNBQUE7VUFBQSwrQkFBQTtBQUNGIiwiZmlsZSI6ImZpbGUtZG93bmxvYWQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9sZC1mb250IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5wb2ludGVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uaG92ZXItdW5kZXJsaW5lOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uLWxpbmU6IHVuZGVybGluZTtcbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}