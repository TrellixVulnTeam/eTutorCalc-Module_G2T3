{"ast":null,"code":"import _asyncToGenerator from \"/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Term } from '../course-management/course-mangement.model';\nimport { StudentExerciseSheetGoalsComponent } from './course-task-overview/student-exercise-sheet-tasks/student-exercise-sheet-goals/student-exercise-sheet-goals.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/students/student-service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"../../core/auth/account.service\";\nimport * as i5 from \"../../shared/language/translate.directive\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@fortawesome/angular-fontawesome\";\nimport * as i8 from \"@ngx-translate/core\";\n\nconst _c0 = function (a0) {\n  return {\n    entity: a0\n  };\n};\n\nfunction StudentOverviewComponent_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n        \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n        \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16, \"\\n          \");\n    i0.ɵɵelementStart(17, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_a_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const course_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.viewGoalAssignments(course_r1);\n    });\n    i0.ɵɵpipe(18, \"translate\");\n    i0.ɵɵtext(19, \"\\n            \");\n    i0.ɵɵelement(20, \"fa-icon\", 10);\n    i0.ɵɵtext(21, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n        \");\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25, \"\\n          \");\n    i0.ɵɵelementStart(26, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_a_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const course_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.viewReachedGoals(course_r1);\n    });\n    i0.ɵɵpipe(27, \"translate\");\n    i0.ɵɵtext(28, \"\\n            \");\n    i0.ɵɵelement(29, \"fa-icon\", 11);\n    i0.ɵɵtext(30, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n        \");\n    i0.ɵɵelementStart(33, \"td\", 12);\n    i0.ɵɵtext(34, \"\\n          \");\n    i0.ɵɵelementStart(35, \"div\", 13);\n    i0.ɵɵtext(36, \"\\n            \");\n    i0.ɵɵelementStart(37, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_button_click_37_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const course_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.navigateToCourseSelfAssessment(course_r1);\n    });\n    i0.ɵɵtext(38, \"\\n              \");\n    i0.ɵɵelement(39, \"fa-icon\", 15);\n    i0.ɵɵtext(40, \"\\n              \");\n    i0.ɵɵelementStart(41, \"span\", 16);\n    i0.ɵɵtext(42, \"Show self assessment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44, \"\\n            \");\n    i0.ɵɵelementStart(45, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_button_click_45_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const course_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.navigateToCourseAssignments(course_r1);\n    });\n    i0.ɵɵtext(46, \"\\n              \");\n    i0.ɵɵelement(47, \"fa-icon\", 18);\n    i0.ɵɵtext(48, \"\\n              \");\n    i0.ɵɵelementStart(49, \"span\", 19);\n    i0.ɵɵtext(50, \"Show assignments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n      \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const course_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(course_r1.courseName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 8, ctx_r0.getTermI18NStringFromURL(course_r1.termId)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(course_r1.year);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(course_r1.instructor);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(18, 10, \"overview.student.exerciseSheetTaskOverview.goalAssignmentTooltip\", i0.ɵɵpureFunction1(16, _c0, course_r1.courseName)));\n    i0.ɵɵadvance(9);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(27, 13, \"overview.student.exerciseSheetTaskOverview.goalAssignmentTooltip\", i0.ɵɵpureFunction1(18, _c0, ctx_r0.loginName)));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"disabled\", course_r1.initialSelfAssessmentCompleted);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disabled\", !course_r1.initialSelfAssessmentCompleted);\n  }\n} // noinspection JSIgnoredPromiseFromCall\n\n/**\n * Component for displaying a student's overview page.\n */\n\n\nexport class StudentOverviewComponent {\n  /**\n   * Constructor.\n   *\n   * @param studentService the injected student service\n   * @param router the injected routing service\n   * @param modalService the injected modal service\n   */\n  constructor(studentService, router, modalService, accountService) {\n    this.studentService = studentService;\n    this.router = router;\n    this.modalService = modalService;\n    this.accountService = accountService;\n    this.courses = [];\n    this.loginName = '';\n  }\n  /**\n   * Implements the init method. See {@link OnInit}.\n   */\n\n\n  ngOnInit() {\n    this.studentService.getCourseInstancesOfLoggedInStudent().subscribe(values => {\n      this.courses = values;\n    });\n    this.loginName = this.accountService.getLoginName();\n  }\n  /**\n   * Returns the i18n constant for the given term url.\n   *\n   * @param url the term url\n   */\n\n\n  getTermI18NStringFromURL(url) {\n    return Term.fromString(url).text;\n  }\n  /**\n   * Navigates to the given course instance's assignments.\n   *\n   * @param course the course instance\n   */\n\n\n  navigateToCourseAssignments(course) {\n    this.router.navigate(['/overview/student/exercises'], {\n      state: {\n        instance: course\n      }\n    });\n  }\n  /**\n   * Navigates to the course's self assessment page.\n   *\n   * @param course the corresponding course model\n   */\n\n\n  navigateToCourseSelfAssessment(course) {\n    this.router.navigate(['/overview/student/self-assessment'], {\n      state: {\n        instance: course\n      }\n    });\n  }\n  /**\n   * Opens a modal window that displays the assigned learning goals of the course\n   * @param courseInstance the course instance\n   */\n\n\n  viewGoalAssignments(courseInstance) {\n    const modalRef = this.modalService.open(StudentExerciseSheetGoalsComponent, {\n      backdrop: 'static',\n      size: 'xl'\n    });\n    modalRef.componentInstance.filterGoalTrees = false;\n    modalRef.componentInstance.assignedGoals = [];\n    modalRef.componentInstance.header = courseInstance.courseName;\n    modalRef.componentInstance.courseName = courseInstance.courseName;\n    modalRef.componentInstance.useOnlyCourseGoals = true;\n  }\n  /**\n   * Displays the reached goals\n   * @param course the course\n   */\n\n\n  viewReachedGoals(course) {\n    this.viewReachedGoalsAsync(course);\n  }\n  /**\n   * Asynchronously opens the modal window displaying the reached goals as treeview\n   * @param course the course\n   * @private\n   */\n\n\n  viewReachedGoalsAsync(course) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      const reachedGoalsResponse = yield _this.studentService.getReachedGoalsOfCourseInstance(course.instanceId).toPromise();\n      const reachedGoalsUnfiltered = (_a = reachedGoalsResponse.body) !== null && _a !== void 0 ? _a : [];\n      const reachedGoals = reachedGoalsUnfiltered.map(g => g.substr(g.lastIndexOf('#') + 1));\n\n      const modalRef = _this.modalService.open(StudentExerciseSheetGoalsComponent, {\n        backdrop: 'static',\n        size: 'xl'\n      });\n\n      modalRef.componentInstance.filterGoalTrees = true;\n      modalRef.componentInstance.assignedGoals = reachedGoals;\n      modalRef.componentInstance.header = _this.loginName;\n      modalRef.componentInstance.courseName = course.courseName;\n      modalRef.componentInstance.useOnlyCourseGoals = true;\n    })();\n  }\n\n}\n\nStudentOverviewComponent.ɵfac = function StudentOverviewComponent_Factory(t) {\n  return new (t || StudentOverviewComponent)(i0.ɵɵdirectiveInject(i1.StudentService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i4.AccountService));\n};\n\nStudentOverviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentOverviewComponent,\n  selectors: [[\"jhi-student-overview\"]],\n  decls: 43,\n  vars: 1,\n  consts: [[\"jhiTranslate\", \"overview.student.header\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"jhiTranslate\", \"overview.student.designation\"], [\"jhiTranslate\", \"overview.student.term\"], [\"jhiTranslate\", \"overview.student.year\"], [\"jhiTranslate\", \"overview.student.instructor\"], [\"jhiTranslate\", \"overview.student.exerciseSheetTaskOverview.fields.learningGoals\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngbTooltip\", \"click\"], [\"icon\", \"bullseye\"], [\"icon\", \"check\"], [1, \"text-right\"], [1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"icon\", \"check-square\"], [\"jhiTranslate\", \"overview.student.showSelfAssessment\", 1, \"d-none\", \"d-md-inline\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"icon\", \"tasks\"], [\"jhiTranslate\", \"overview.student.showAssignments\", 1, \"d-none\", \"d-md-inline\"]],\n  template: function StudentOverviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"hr\");\n      i0.ɵɵtext(1, \"\\n\");\n      i0.ɵɵelementStart(2, \"h4\", 0);\n      i0.ɵɵtext(3, \"My courses\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n\");\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵtext(6, \"\\n  \");\n      i0.ɵɵelementStart(7, \"table\", 2);\n      i0.ɵɵtext(8, \"\\n    \");\n      i0.ɵɵelementStart(9, \"thead\");\n      i0.ɵɵtext(10, \"\\n      \");\n      i0.ɵɵelementStart(11, \"tr\");\n      i0.ɵɵtext(12, \"\\n        \");\n      i0.ɵɵelementStart(13, \"th\", 3);\n      i0.ɵɵtext(14, \"Designation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n        \");\n      i0.ɵɵelementStart(16, \"th\", 4);\n      i0.ɵɵtext(17, \"Term\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \"\\n        \");\n      i0.ɵɵelementStart(19, \"th\", 5);\n      i0.ɵɵtext(20, \"Year\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \"\\n        \");\n      i0.ɵɵelementStart(22, \"th\", 6);\n      i0.ɵɵtext(23, \"Instructor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n        \");\n      i0.ɵɵelementStart(25, \"th\", 7);\n      i0.ɵɵtext(26, \"Goals\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \"\\n        \");\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Reached Goals\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30, \"\\n        \");\n      i0.ɵɵelementStart(31, \"th\");\n      i0.ɵɵtext(32, \"\\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n    \");\n      i0.ɵɵelementStart(36, \"tbody\");\n      i0.ɵɵtext(37, \"\\n      \");\n      i0.ɵɵtemplate(38, StudentOverviewComponent_tr_38_Template, 55, 20, \"tr\", 8);\n      i0.ɵɵtext(39, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(38);\n      i0.ɵɵproperty(\"ngForOf\", ctx.courses);\n    }\n  },\n  directives: [i5.TranslateDirective, i6.NgForOf, i3.NgbTooltip, i7.FaIconComponent],\n  pipes: [i8.TranslatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdHVkZW50LW92ZXJ2aWV3LmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/Users/laurenzhinterholzer/Documents/WIN/WIN 2022S/BAC WIN/platform/src/main/webapp/app/overview/student-overview/student-overview.component.ts"],"names":["Term","StudentExerciseSheetGoalsComponent","i0","i1","i2","i3","i4","i5","i6","i7","i8","_c0","a0","entity","StudentOverviewComponent_tr_38_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵpipe","ɵɵlistener","StudentOverviewComponent_tr_38_Template_a_click_17_listener","restoredCtx","ɵɵrestoreView","course_r1","$implicit","ctx_r2","ɵɵnextContext","viewGoalAssignments","ɵɵelement","StudentOverviewComponent_tr_38_Template_a_click_26_listener","ctx_r4","viewReachedGoals","StudentOverviewComponent_tr_38_Template_button_click_37_listener","ctx_r5","navigateToCourseSelfAssessment","StudentOverviewComponent_tr_38_Template_button_click_45_listener","ctx_r6","navigateToCourseAssignments","ctx_r0","ɵɵadvance","ɵɵtextInterpolate","courseName","ɵɵpipeBind1","getTermI18NStringFromURL","termId","year","instructor","ɵɵpropertyInterpolate","ɵɵpipeBind2","ɵɵpureFunction1","loginName","ɵɵproperty","initialSelfAssessmentCompleted","StudentOverviewComponent","constructor","studentService","router","modalService","accountService","courses","ngOnInit","getCourseInstancesOfLoggedInStudent","subscribe","values","getLoginName","url","fromString","text","course","navigate","state","instance","courseInstance","modalRef","open","backdrop","size","componentInstance","filterGoalTrees","assignedGoals","header","useOnlyCourseGoals","viewReachedGoalsAsync","_a","reachedGoalsResponse","getReachedGoalsOfCourseInstance","instanceId","toPromise","reachedGoalsUnfiltered","body","reachedGoals","map","g","substr","lastIndexOf","ɵfac","StudentOverviewComponent_Factory","t","ɵɵdirectiveInject","StudentService","Router","NgbModal","AccountService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","StudentOverviewComponent_Template","ɵɵtemplate","directives","TranslateDirective","NgForOf","NgbTooltip","FaIconComponent","pipes","TranslatePipe","styles"],"mappings":"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","sourcesContent":["import { Term } from '../course-management/course-mangement.model';\nimport { StudentExerciseSheetGoalsComponent } from './course-task-overview/student-exercise-sheet-tasks/student-exercise-sheet-goals/student-exercise-sheet-goals.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/students/student-service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"../../core/auth/account.service\";\nimport * as i5 from \"../../shared/language/translate.directive\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@fortawesome/angular-fontawesome\";\nimport * as i8 from \"@ngx-translate/core\";\nconst _c0 = function (a0) { return { entity: a0 }; };\nfunction StudentOverviewComponent_tr_38_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n        \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n        \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16, \"\\n          \");\n    i0.ɵɵelementStart(17, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_a_click_17_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const course_r1 = restoredCtx.$implicit; const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.viewGoalAssignments(course_r1); });\n    i0.ɵɵpipe(18, \"translate\");\n    i0.ɵɵtext(19, \"\\n            \");\n    i0.ɵɵelement(20, \"fa-icon\", 10);\n    i0.ɵɵtext(21, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n        \");\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25, \"\\n          \");\n    i0.ɵɵelementStart(26, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_a_click_26_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const course_r1 = restoredCtx.$implicit; const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.viewReachedGoals(course_r1); });\n    i0.ɵɵpipe(27, \"translate\");\n    i0.ɵɵtext(28, \"\\n            \");\n    i0.ɵɵelement(29, \"fa-icon\", 11);\n    i0.ɵɵtext(30, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n        \");\n    i0.ɵɵelementStart(33, \"td\", 12);\n    i0.ɵɵtext(34, \"\\n          \");\n    i0.ɵɵelementStart(35, \"div\", 13);\n    i0.ɵɵtext(36, \"\\n            \");\n    i0.ɵɵelementStart(37, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_button_click_37_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const course_r1 = restoredCtx.$implicit; const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.navigateToCourseSelfAssessment(course_r1); });\n    i0.ɵɵtext(38, \"\\n              \");\n    i0.ɵɵelement(39, \"fa-icon\", 15);\n    i0.ɵɵtext(40, \"\\n              \");\n    i0.ɵɵelementStart(41, \"span\", 16);\n    i0.ɵɵtext(42, \"Show self assessment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44, \"\\n            \");\n    i0.ɵɵelementStart(45, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function StudentOverviewComponent_tr_38_Template_button_click_45_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const course_r1 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.navigateToCourseAssignments(course_r1); });\n    i0.ɵɵtext(46, \"\\n              \");\n    i0.ɵɵelement(47, \"fa-icon\", 18);\n    i0.ɵɵtext(48, \"\\n              \");\n    i0.ɵɵelementStart(49, \"span\", 19);\n    i0.ɵɵtext(50, \"Show assignments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n      \");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const course_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(course_r1.courseName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 8, ctx_r0.getTermI18NStringFromURL(course_r1.termId)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(course_r1.year);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(course_r1.instructor);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(18, 10, \"overview.student.exerciseSheetTaskOverview.goalAssignmentTooltip\", i0.ɵɵpureFunction1(16, _c0, course_r1.courseName)));\n    i0.ɵɵadvance(9);\n    i0.ɵɵpropertyInterpolate(\"ngbTooltip\", i0.ɵɵpipeBind2(27, 13, \"overview.student.exerciseSheetTaskOverview.goalAssignmentTooltip\", i0.ɵɵpureFunction1(18, _c0, ctx_r0.loginName)));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"disabled\", course_r1.initialSelfAssessmentCompleted);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disabled\", !course_r1.initialSelfAssessmentCompleted);\n} }\n// noinspection JSIgnoredPromiseFromCall\n/**\n * Component for displaying a student's overview page.\n */\nexport class StudentOverviewComponent {\n    /**\n     * Constructor.\n     *\n     * @param studentService the injected student service\n     * @param router the injected routing service\n     * @param modalService the injected modal service\n     */\n    constructor(studentService, router, modalService, accountService) {\n        this.studentService = studentService;\n        this.router = router;\n        this.modalService = modalService;\n        this.accountService = accountService;\n        this.courses = [];\n        this.loginName = '';\n    }\n    /**\n     * Implements the init method. See {@link OnInit}.\n     */\n    ngOnInit() {\n        this.studentService.getCourseInstancesOfLoggedInStudent().subscribe(values => {\n            this.courses = values;\n        });\n        this.loginName = this.accountService.getLoginName();\n    }\n    /**\n     * Returns the i18n constant for the given term url.\n     *\n     * @param url the term url\n     */\n    getTermI18NStringFromURL(url) {\n        return Term.fromString(url).text;\n    }\n    /**\n     * Navigates to the given course instance's assignments.\n     *\n     * @param course the course instance\n     */\n    navigateToCourseAssignments(course) {\n        this.router.navigate(['/overview/student/exercises'], { state: { instance: course } });\n    }\n    /**\n     * Navigates to the course's self assessment page.\n     *\n     * @param course the corresponding course model\n     */\n    navigateToCourseSelfAssessment(course) {\n        this.router.navigate(['/overview/student/self-assessment'], { state: { instance: course } });\n    }\n    /**\n     * Opens a modal window that displays the assigned learning goals of the course\n     * @param courseInstance the course instance\n     */\n    viewGoalAssignments(courseInstance) {\n        const modalRef = this.modalService.open(StudentExerciseSheetGoalsComponent, { backdrop: 'static', size: 'xl' });\n        modalRef.componentInstance.filterGoalTrees = false;\n        modalRef.componentInstance.assignedGoals = [];\n        modalRef.componentInstance.header = courseInstance.courseName;\n        modalRef.componentInstance.courseName = courseInstance.courseName;\n        modalRef.componentInstance.useOnlyCourseGoals = true;\n    }\n    /**\n     * Displays the reached goals\n     * @param course the course\n     */\n    viewReachedGoals(course) {\n        this.viewReachedGoalsAsync(course);\n    }\n    /**\n     * Asynchronously opens the modal window displaying the reached goals as treeview\n     * @param course the course\n     * @private\n     */\n    async viewReachedGoalsAsync(course) {\n        var _a;\n        const reachedGoalsResponse = await this.studentService.getReachedGoalsOfCourseInstance(course.instanceId).toPromise();\n        const reachedGoalsUnfiltered = (_a = reachedGoalsResponse.body) !== null && _a !== void 0 ? _a : [];\n        const reachedGoals = reachedGoalsUnfiltered.map(g => g.substr(g.lastIndexOf('#') + 1));\n        const modalRef = this.modalService.open(StudentExerciseSheetGoalsComponent, { backdrop: 'static', size: 'xl' });\n        modalRef.componentInstance.filterGoalTrees = true;\n        modalRef.componentInstance.assignedGoals = reachedGoals;\n        modalRef.componentInstance.header = this.loginName;\n        modalRef.componentInstance.courseName = course.courseName;\n        modalRef.componentInstance.useOnlyCourseGoals = true;\n    }\n}\nStudentOverviewComponent.ɵfac = function StudentOverviewComponent_Factory(t) { return new (t || StudentOverviewComponent)(i0.ɵɵdirectiveInject(i1.StudentService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i4.AccountService)); };\nStudentOverviewComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: StudentOverviewComponent, selectors: [[\"jhi-student-overview\"]], decls: 43, vars: 1, consts: [[\"jhiTranslate\", \"overview.student.header\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"jhiTranslate\", \"overview.student.designation\"], [\"jhiTranslate\", \"overview.student.term\"], [\"jhiTranslate\", \"overview.student.year\"], [\"jhiTranslate\", \"overview.student.instructor\"], [\"jhiTranslate\", \"overview.student.exerciseSheetTaskOverview.fields.learningGoals\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngbTooltip\", \"click\"], [\"icon\", \"bullseye\"], [\"icon\", \"check\"], [1, \"text-right\"], [1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"icon\", \"check-square\"], [\"jhiTranslate\", \"overview.student.showSelfAssessment\", 1, \"d-none\", \"d-md-inline\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"icon\", \"tasks\"], [\"jhiTranslate\", \"overview.student.showAssignments\", 1, \"d-none\", \"d-md-inline\"]], template: function StudentOverviewComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelement(0, \"hr\");\n        i0.ɵɵtext(1, \"\\n\");\n        i0.ɵɵelementStart(2, \"h4\", 0);\n        i0.ɵɵtext(3, \"My courses\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4, \"\\n\");\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵtext(6, \"\\n  \");\n        i0.ɵɵelementStart(7, \"table\", 2);\n        i0.ɵɵtext(8, \"\\n    \");\n        i0.ɵɵelementStart(9, \"thead\");\n        i0.ɵɵtext(10, \"\\n      \");\n        i0.ɵɵelementStart(11, \"tr\");\n        i0.ɵɵtext(12, \"\\n        \");\n        i0.ɵɵelementStart(13, \"th\", 3);\n        i0.ɵɵtext(14, \"Designation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \"\\n        \");\n        i0.ɵɵelementStart(16, \"th\", 4);\n        i0.ɵɵtext(17, \"Term\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(18, \"\\n        \");\n        i0.ɵɵelementStart(19, \"th\", 5);\n        i0.ɵɵtext(20, \"Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(21, \"\\n        \");\n        i0.ɵɵelementStart(22, \"th\", 6);\n        i0.ɵɵtext(23, \"Instructor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(24, \"\\n        \");\n        i0.ɵɵelementStart(25, \"th\", 7);\n        i0.ɵɵtext(26, \"Goals\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(27, \"\\n        \");\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Reached Goals\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(30, \"\\n        \");\n        i0.ɵɵelementStart(31, \"th\");\n        i0.ɵɵtext(32, \"\\u00A0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(33, \"\\n      \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(34, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(35, \"\\n    \");\n        i0.ɵɵelementStart(36, \"tbody\");\n        i0.ɵɵtext(37, \"\\n      \");\n        i0.ɵɵtemplate(38, StudentOverviewComponent_tr_38_Template, 55, 20, \"tr\", 8);\n        i0.ɵɵtext(39, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(40, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(41, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(42, \"\\n\");\n    } if (rf & 2) {\n        i0.ɵɵadvance(38);\n        i0.ɵɵproperty(\"ngForOf\", ctx.courses);\n    } }, directives: [i5.TranslateDirective, i6.NgForOf, i3.NgbTooltip, i7.FaIconComponent], pipes: [i8.TranslatePipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdHVkZW50LW92ZXJ2aWV3LmNvbXBvbmVudC5zY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}